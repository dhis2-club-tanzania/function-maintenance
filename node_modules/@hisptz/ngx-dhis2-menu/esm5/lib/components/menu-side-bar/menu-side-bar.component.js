/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, Input } from '@angular/core';
import { MenuService } from '../../services/menu.service';
import { PROFILE_MENUS } from '../../constants/profile-menus';
var MenuSideBarComponent = /** @class */ (function () {
    function MenuSideBarComponent(menuService) {
        this.menuService = menuService;
        this.showProfile = false;
        this.rootUrl = '../../../';
        this.loadingUser = true;
        this.apps = [];
        this.originalApps = [];
        this.loadingModules = true;
        this.profileMenus = PROFILE_MENUS;
        this.filteredApp = '';
        this.showSidebarApps = false;
    }
    /**
     * @return {?}
     */
    MenuSideBarComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.menuService.getUserInfo(this.rootUrl).subscribe(function (profile) {
            if (profile) {
                _this.currentUser = {
                    name: profile.displayName,
                    email: profile.email
                };
            }
            _this.loadingUser = false;
        });
        this.menuService
            .getMenuModules(this.rootUrl)
            .subscribe(function (menuModules) {
            if (menuModules !== null) {
                _this.loadingModules = false;
                _this.originalApps = tslib_1.__spread(menuModules);
                _this.apps = _this._prepareMenuModules();
            }
        });
    };
    /**
     * @return {?}
     */
    MenuSideBarComponent.prototype._prepareMenuModules = /**
     * @return {?}
     */
    function () {
        return this.filteredApp === ''
            ? this.originalApps.filter(function (menu) {
                return !menu.onlyShowOnSearch;
            })
            : this.originalApps;
    };
    /**
     * @param {?} e
     * @return {?}
     */
    MenuSideBarComponent.prototype.toggleSidebarMenus = /**
     * @param {?} e
     * @return {?}
     */
    function (e) {
        e.stopPropagation();
        this.showSidebarApps = !this.showSidebarApps;
    };
    /**
     * @return {?}
     */
    MenuSideBarComponent.prototype.updateMenuModules = /**
     * @return {?}
     */
    function () {
        this.apps = this._prepareMenuModules();
    };
    MenuSideBarComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-menu-side-bar',
                    template: "<div >\n  <div class=\"sidebar-user-profile-block\">\n    <div class=\"sidebar-user-profile-logo\" *ngIf=\"!loadingUser\">{{currentUser?.name | abbreviate}}</div>\n    <div class=\"sidebar-user-profile-info\">\n      <h4 *ngIf=\"!loadingUser\">{{currentUser?.name}}</h4>\n      <h6 *ngIf=\"!loadingUser\">{{currentUser?.email}}</h6>\n    </div>\n  </div>\n  <ul class=\"sidebar-list-block\">\n    <li>\n      <a (click)=\"toggleSidebarMenus($event)\">Apps</a>\n    </li>\n    <li\n      [ngClass]=\"{\n          'sidebar-app-hidden': !showSidebarApps\n        }\"\n    >\n      <input\n        type=\"text\"\n        class=\"sidebar-app-input\"\n        placeholder=\"Search Apps\"\n        [(ngModel)]=\"filteredApp\"\n        (ngModelChange)=\"updateMenuModules()\"\n      >\n    </li>\n    <li\n      class=\"sidebar-app-list\"\n      [ngClass]=\"{\n          'sidebar-app-hidden': !showSidebarApps\n        }\"\n    >\n      <a\n        *ngFor=\"let app of  apps | filterByName: filteredApp\"\n        [href]=\"app.defaultAction\"\n        class=\"app-menu-btn sidebar-app-menu-btn\">\n        <img alt=\"\" [src]=\"app.icon\" title=\"{{app.displayName}}\">\n        <div class=\"app-menu-name\">{{app.displayName}}</div>\n      </a>\n    </li>\n    <li *ngFor=\"let profileMenu of profileMenus\">\n      <a [href]=\"rootUrl + profileMenu.defaultAction\">\n        <img alt=\"\" [src]=\"profileMenu.icon\">\n        {{profileMenu.name}}\n      </a>\n    </li>\n    <li>\n      <a [href]=\"rootUrl + 'dhis-web-commons-security/logout.action'\">Log Out</a>\n    </li>\n  </ul>\n</div>\n",
                    styles: [".sidebar-user-profile-block{text-align:left;background-color:#eee;height:100px;padding:5px;display:flex}.sidebar-user-profile-logo{height:90px;vertical-align:middle;padding:15px;font-size:40px;font-weight:500;color:#9e9e9e;width:90px;border-radius:45px;background-color:#ddd}.sidebar-user-profile-info{padding:15px}.sidebar-list-block{list-style-type:none;margin:0;padding:0;display:block}.sidebar-hidden{display:none!important}.sidebar-app-input{border-style:none;border-bottom:1px solid #eee;color:#000;width:100%;padding:7px}.sidebar-app-input:focus{outline:0}.sidebar-list-block li a{text-decoration:none;width:100%;display:block;color:#000;border-bottom:1px solid #eee;padding:10px 15px}.sidebar-list-block li a img{height:17px}.sidebar-app-list{display:flex;overflow:auto;height:200px;flex-wrap:wrap}.sidebar-app-menu-btn{margin:5px;text-decoration:none;padding:15px;border-radius:5px;border:1px solid #ddd;text-align:center;transition:all .2s ease-in-out;width:25%;height:85px}"]
                },] },
    ];
    /** @nocollapse */
    MenuSideBarComponent.ctorParameters = function () { return [
        { type: MenuService }
    ]; };
    MenuSideBarComponent.propDecorators = {
        rootUrl: [{ type: Input }]
    };
    return MenuSideBarComponent;
}());
export { MenuSideBarComponent };
function MenuSideBarComponent_tsickle_Closure_declarations() {
    /** @type {?} */
    MenuSideBarComponent.prototype.rootUrl;
    /** @type {?} */
    MenuSideBarComponent.prototype.showProfile;
    /** @type {?} */
    MenuSideBarComponent.prototype.currentUser;
    /** @type {?} */
    MenuSideBarComponent.prototype.loadingUser;
    /** @type {?} */
    MenuSideBarComponent.prototype.profileMenus;
    /** @type {?} */
    MenuSideBarComponent.prototype.apps;
    /** @type {?} */
    MenuSideBarComponent.prototype.originalApps;
    /** @type {?} */
    MenuSideBarComponent.prototype.loadingModules;
    /** @type {?} */
    MenuSideBarComponent.prototype.filteredApp;
    /** @type {?} */
    MenuSideBarComponent.prototype.showSidebarApps;
    /** @type {?} */
    MenuSideBarComponent.prototype.menuService;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVudS1zaWRlLWJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AaGlzcHR6L25neC1kaGlzMi1tZW51LyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbWVudS1zaWRlLWJhci9tZW51LXNpZGUtYmFyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBQyxTQUFTLEVBQUUsS0FBSyxFQUFTLE1BQU0sZUFBZSxDQUFDO0FBQ3ZELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sK0JBQStCLENBQUM7O0lBcUU1RCw4QkFBb0IsV0FBd0I7UUFBeEIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUM7UUFDM0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLGFBQWEsQ0FBQztRQUNsQyxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztLQUM5Qjs7OztJQUVELHVDQUFROzs7SUFBUjtRQUFBLGlCQXFCQztRQXBCQyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLFVBQUMsT0FBWTtZQUNoRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNaLEtBQUksQ0FBQyxXQUFXLEdBQUc7b0JBQ2pCLElBQUksRUFBRSxPQUFPLENBQUMsV0FBVztvQkFDekIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO2lCQUNyQixDQUFDO2FBQ0g7WUFFRCxLQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztTQUMxQixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsV0FBVzthQUNiLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2FBQzVCLFNBQVMsQ0FBQyxVQUFDLFdBQWdCO1lBQzFCLEVBQUUsQ0FBQyxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN6QixLQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztnQkFDNUIsS0FBSSxDQUFDLFlBQVksb0JBQU8sV0FBVyxDQUFDLENBQUM7Z0JBQ3JDLEtBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7YUFDeEM7U0FDRixDQUFDLENBQUM7S0FDTjs7OztJQUVPLGtEQUFtQjs7OztRQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxFQUFFO1lBQzVCLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQVM7Z0JBQ25DLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQzthQUMvQixDQUFDO1lBQ0YsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7Ozs7OztJQUd4QixpREFBa0I7Ozs7SUFBbEIsVUFBbUIsQ0FBQztRQUNsQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7S0FDOUM7Ozs7SUFFRCxnREFBaUI7OztJQUFqQjtRQUNFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7S0FDeEM7O2dCQXJIRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLG1CQUFtQjtvQkFDN0IsUUFBUSxFQUFFLHNqREFrRFg7b0JBQ0MsTUFBTSxFQUFFLENBQUMsMDlCQUEwOUIsQ0FBQztpQkFDcitCOzs7O2dCQXpEUSxXQUFXOzs7MEJBMkRqQixLQUFLOzsrQkE1RFI7O1NBMkRhLG9CQUFvQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LCBJbnB1dCwgT25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbWVudS5zZXJ2aWNlJztcbmltcG9ydCB7IFBST0ZJTEVfTUVOVVMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcHJvZmlsZS1tZW51cyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FwcC1tZW51LXNpZGUtYmFyJyxcbiAgdGVtcGxhdGU6IGA8ZGl2ID5cbiAgPGRpdiBjbGFzcz1cInNpZGViYXItdXNlci1wcm9maWxlLWJsb2NrXCI+XG4gICAgPGRpdiBjbGFzcz1cInNpZGViYXItdXNlci1wcm9maWxlLWxvZ29cIiAqbmdJZj1cIiFsb2FkaW5nVXNlclwiPnt7Y3VycmVudFVzZXI/Lm5hbWUgfCBhYmJyZXZpYXRlfX08L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2lkZWJhci11c2VyLXByb2ZpbGUtaW5mb1wiPlxuICAgICAgPGg0ICpuZ0lmPVwiIWxvYWRpbmdVc2VyXCI+e3tjdXJyZW50VXNlcj8ubmFtZX19PC9oND5cbiAgICAgIDxoNiAqbmdJZj1cIiFsb2FkaW5nVXNlclwiPnt7Y3VycmVudFVzZXI/LmVtYWlsfX08L2g2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPHVsIGNsYXNzPVwic2lkZWJhci1saXN0LWJsb2NrXCI+XG4gICAgPGxpPlxuICAgICAgPGEgKGNsaWNrKT1cInRvZ2dsZVNpZGViYXJNZW51cygkZXZlbnQpXCI+QXBwczwvYT5cbiAgICA8L2xpPlxuICAgIDxsaVxuICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICdzaWRlYmFyLWFwcC1oaWRkZW4nOiAhc2hvd1NpZGViYXJBcHBzXG4gICAgICAgIH1cIlxuICAgID5cbiAgICAgIDxpbnB1dFxuICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgIGNsYXNzPVwic2lkZWJhci1hcHAtaW5wdXRcIlxuICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBBcHBzXCJcbiAgICAgICAgWyhuZ01vZGVsKV09XCJmaWx0ZXJlZEFwcFwiXG4gICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInVwZGF0ZU1lbnVNb2R1bGVzKClcIlxuICAgICAgPlxuICAgIDwvbGk+XG4gICAgPGxpXG4gICAgICBjbGFzcz1cInNpZGViYXItYXBwLWxpc3RcIlxuICAgICAgW25nQ2xhc3NdPVwie1xuICAgICAgICAgICdzaWRlYmFyLWFwcC1oaWRkZW4nOiAhc2hvd1NpZGViYXJBcHBzXG4gICAgICAgIH1cIlxuICAgID5cbiAgICAgIDxhXG4gICAgICAgICpuZ0Zvcj1cImxldCBhcHAgb2YgIGFwcHMgfCBmaWx0ZXJCeU5hbWU6IGZpbHRlcmVkQXBwXCJcbiAgICAgICAgW2hyZWZdPVwiYXBwLmRlZmF1bHRBY3Rpb25cIlxuICAgICAgICBjbGFzcz1cImFwcC1tZW51LWJ0biBzaWRlYmFyLWFwcC1tZW51LWJ0blwiPlxuICAgICAgICA8aW1nIGFsdD1cIlwiIFtzcmNdPVwiYXBwLmljb25cIiB0aXRsZT1cInt7YXBwLmRpc3BsYXlOYW1lfX1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFwcC1tZW51LW5hbWVcIj57e2FwcC5kaXNwbGF5TmFtZX19PC9kaXY+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgICA8bGkgKm5nRm9yPVwibGV0IHByb2ZpbGVNZW51IG9mIHByb2ZpbGVNZW51c1wiPlxuICAgICAgPGEgW2hyZWZdPVwicm9vdFVybCArIHByb2ZpbGVNZW51LmRlZmF1bHRBY3Rpb25cIj5cbiAgICAgICAgPGltZyBhbHQ9XCJcIiBbc3JjXT1cInByb2ZpbGVNZW51Lmljb25cIj5cbiAgICAgICAge3twcm9maWxlTWVudS5uYW1lfX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICAgIDxsaT5cbiAgICAgIDxhIFtocmVmXT1cInJvb3RVcmwgKyAnZGhpcy13ZWItY29tbW9ucy1zZWN1cml0eS9sb2dvdXQuYWN0aW9uJ1wiPkxvZyBPdXQ8L2E+XG4gICAgPC9saT5cbiAgPC91bD5cbjwvZGl2PlxuYCxcbiAgc3R5bGVzOiBbYC5zaWRlYmFyLXVzZXItcHJvZmlsZS1ibG9ja3t0ZXh0LWFsaWduOmxlZnQ7YmFja2dyb3VuZC1jb2xvcjojZWVlO2hlaWdodDoxMDBweDtwYWRkaW5nOjVweDtkaXNwbGF5OmZsZXh9LnNpZGViYXItdXNlci1wcm9maWxlLWxvZ297aGVpZ2h0OjkwcHg7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6MTVweDtmb250LXNpemU6NDBweDtmb250LXdlaWdodDo1MDA7Y29sb3I6IzllOWU5ZTt3aWR0aDo5MHB4O2JvcmRlci1yYWRpdXM6NDVweDtiYWNrZ3JvdW5kLWNvbG9yOiNkZGR9LnNpZGViYXItdXNlci1wcm9maWxlLWluZm97cGFkZGluZzoxNXB4fS5zaWRlYmFyLWxpc3QtYmxvY2t7bGlzdC1zdHlsZS10eXBlOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO2Rpc3BsYXk6YmxvY2t9LnNpZGViYXItaGlkZGVue2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnNpZGViYXItYXBwLWlucHV0e2JvcmRlci1zdHlsZTpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlZWU7Y29sb3I6IzAwMDt3aWR0aDoxMDAlO3BhZGRpbmc6N3B4fS5zaWRlYmFyLWFwcC1pbnB1dDpmb2N1c3tvdXRsaW5lOjB9LnNpZGViYXItbGlzdC1ibG9jayBsaSBhe3RleHQtZGVjb3JhdGlvbjpub25lO3dpZHRoOjEwMCU7ZGlzcGxheTpibG9jaztjb2xvcjojMDAwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlZWU7cGFkZGluZzoxMHB4IDE1cHh9LnNpZGViYXItbGlzdC1ibG9jayBsaSBhIGltZ3toZWlnaHQ6MTdweH0uc2lkZWJhci1hcHAtbGlzdHtkaXNwbGF5OmZsZXg7b3ZlcmZsb3c6YXV0bztoZWlnaHQ6MjAwcHg7ZmxleC13cmFwOndyYXB9LnNpZGViYXItYXBwLW1lbnUtYnRue21hcmdpbjo1cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzoxNXB4O2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgI2RkZDt0ZXh0LWFsaWduOmNlbnRlcjt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZS1pbi1vdXQ7d2lkdGg6MjUlO2hlaWdodDo4NXB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIE1lbnVTaWRlQmFyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgcm9vdFVybDogc3RyaW5nO1xuICBzaG93UHJvZmlsZTogYm9vbGVhbjtcbiAgY3VycmVudFVzZXI6IGFueTtcbiAgbG9hZGluZ1VzZXI6IGJvb2xlYW47XG4gIHByb2ZpbGVNZW51czogYW55W107XG4gIGFwcHM6IGFueVtdO1xuICBvcmlnaW5hbEFwcHM6IGFueVtdO1xuICBsb2FkaW5nTW9kdWxlczogYm9vbGVhbjtcbiAgZmlsdGVyZWRBcHA6IHN0cmluZztcbiAgc2hvd1NpZGViYXJBcHBzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbWVudVNlcnZpY2U6IE1lbnVTZXJ2aWNlKSB7XG4gICAgdGhpcy5zaG93UHJvZmlsZSA9IGZhbHNlO1xuICAgIHRoaXMucm9vdFVybCA9ICcuLi8uLi8uLi8nO1xuICAgIHRoaXMubG9hZGluZ1VzZXIgPSB0cnVlO1xuICAgIHRoaXMuYXBwcyA9IFtdO1xuICAgIHRoaXMub3JpZ2luYWxBcHBzID0gW107XG4gICAgdGhpcy5sb2FkaW5nTW9kdWxlcyA9IHRydWU7XG4gICAgdGhpcy5wcm9maWxlTWVudXMgPSBQUk9GSUxFX01FTlVTO1xuICAgIHRoaXMuZmlsdGVyZWRBcHAgPSAnJztcbiAgICB0aGlzLnNob3dTaWRlYmFyQXBwcyA9IGZhbHNlO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5tZW51U2VydmljZS5nZXRVc2VySW5mbyh0aGlzLnJvb3RVcmwpLnN1YnNjcmliZSgocHJvZmlsZTogYW55KSA9PiB7XG4gICAgICBpZiAocHJvZmlsZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0ge1xuICAgICAgICAgIG5hbWU6IHByb2ZpbGUuZGlzcGxheU5hbWUsXG4gICAgICAgICAgZW1haWw6IHByb2ZpbGUuZW1haWxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2FkaW5nVXNlciA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tZW51U2VydmljZVxuICAgICAgLmdldE1lbnVNb2R1bGVzKHRoaXMucm9vdFVybClcbiAgICAgIC5zdWJzY3JpYmUoKG1lbnVNb2R1bGVzOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKG1lbnVNb2R1bGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5sb2FkaW5nTW9kdWxlcyA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMub3JpZ2luYWxBcHBzID0gWy4uLm1lbnVNb2R1bGVzXTtcbiAgICAgICAgICB0aGlzLmFwcHMgPSB0aGlzLl9wcmVwYXJlTWVudU1vZHVsZXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9wcmVwYXJlTWVudU1vZHVsZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRBcHAgPT09ICcnXG4gICAgICA/IHRoaXMub3JpZ2luYWxBcHBzLmZpbHRlcigobWVudTogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiAhbWVudS5vbmx5U2hvd09uU2VhcmNoO1xuICAgICAgfSlcbiAgICAgIDogdGhpcy5vcmlnaW5hbEFwcHM7XG4gIH1cblxuICB0b2dnbGVTaWRlYmFyTWVudXMoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5zaG93U2lkZWJhckFwcHMgPSAhdGhpcy5zaG93U2lkZWJhckFwcHM7XG4gIH1cblxuICB1cGRhdGVNZW51TW9kdWxlcygpIHtcbiAgICB0aGlzLmFwcHMgPSB0aGlzLl9wcmVwYXJlTWVudU1vZHVsZXMoKTtcbiAgfVxuXG59XG4iXX0=