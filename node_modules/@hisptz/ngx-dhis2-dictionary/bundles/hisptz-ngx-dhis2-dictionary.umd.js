(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@ngrx/entity'), require('@ngrx/store'), require('lodash'), require('@angular/core'), require('@angular/common'), require('@ngrx/effects'), require('rxjs/operators'), require('rxjs'), require('@hisptz/ngx-dhis2-http-client'), require('@angular/common/http')) :
    typeof define === 'function' && define.amd ? define('@hisptz/ngx-dhis2-dictionary', ['exports', '@ngrx/entity', '@ngrx/store', 'lodash', '@angular/core', '@angular/common', '@ngrx/effects', 'rxjs/operators', 'rxjs', '@hisptz/ngx-dhis2-http-client', '@angular/common/http'], factory) :
    (factory((global.hisptz = global.hisptz || {}, global.hisptz['ngx-dhis2-dictionary'] = {}),null,null,null,global.ng.core,global.ng.common,null,global.rxjs.operators,global.rxjs,null,global.ng.common.http));
}(this, (function (exports,entity,store,_,core,common,effects,operators,rxjs,ngxDhis2HttpClient,http) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @enum {string} */
    var DictionaryActionTypes = {
        InitializeDictionaryMetadata: '[Dictionary] initialize incoming metadata',
        AddDictionaryMetadataList: '[Dictionary] add dictionary metadata list',
        UpdateDictionaryMetadata: '[Dictionary] update dictionary metadata list',
    };
    var InitializeDictionaryMetadataAction = (function () {
        function InitializeDictionaryMetadataAction(dictionaryMetadataIdentifiers) {
            this.dictionaryMetadataIdentifiers = dictionaryMetadataIdentifiers;
            this.type = DictionaryActionTypes.InitializeDictionaryMetadata;
        }
        return InitializeDictionaryMetadataAction;
    }());
    var AddDictionaryMetadataListAction = (function () {
        function AddDictionaryMetadataListAction(dictionaryMetadataList) {
            this.dictionaryMetadataList = dictionaryMetadataList;
            this.type = DictionaryActionTypes.AddDictionaryMetadataList;
        }
        return AddDictionaryMetadataListAction;
    }());
    var UpdateDictionaryMetadataAction = (function () {
        function UpdateDictionaryMetadataAction(dictionaryMetadataId, changes) {
            this.dictionaryMetadataId = dictionaryMetadataId;
            this.changes = changes;
            this.type = DictionaryActionTypes.UpdateDictionaryMetadata;
        }
        return UpdateDictionaryMetadataAction;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ dictionaryAdapter = entity.createEntityAdapter();
    var /** @type {?} */ initialState = dictionaryAdapter.getInitialState({});
    /**
     * @param {?=} state
     * @param {?=} action
     * @return {?}
     */
    function dictionaryReducer(state, action) {
        if (state === void 0) {
            state = initialState;
        }
        switch (action.type) {
            case DictionaryActionTypes.AddDictionaryMetadataList: {
                return dictionaryAdapter.addMany(action.dictionaryMetadataList, state);
            }
            case DictionaryActionTypes.UpdateDictionaryMetadata: {
                return dictionaryAdapter.updateOne({ id: action.dictionaryMetadataId, changes: action.changes }, state);
            }
        }
        return state;
    }
    var /** @type {?} */ getDictionaryState = store.createFeatureSelector('dictionary');
    var getDictionaryMetadataEntities = dictionaryAdapter.getSelectors(getDictionaryState).selectEntities;

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ getDictionaryList = function (metadataIdentifiers) {
        return store.createSelector(getDictionaryMetadataEntities, function (dictionaryMetadataEntities) {
            return _.filter(_.map(metadataIdentifiers, function (metadataId) { return dictionaryMetadataEntities[metadataId]; }), function (metadata) { return metadata; });
        });
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DictionaryListComponent = (function () {
        function DictionaryListComponent(store$$1) {
            this.store = store$$1;
            this.activeItem = 0;
        }
        /**
         * @return {?}
         */
        DictionaryListComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.metadataIdentifiers.length > 0) {
                    this.store.dispatch(new InitializeDictionaryMetadataAction(this.metadataIdentifiers));
                    this.dictionaryList$ = this.store.select(getDictionaryList(this.metadataIdentifiers));
                }
            };
        /**
         * @param {?} index
         * @param {?} e
         * @return {?}
         */
        DictionaryListComponent.prototype.setActiveItem = /**
         * @param {?} index
         * @param {?} e
         * @return {?}
         */
            function (index, e) {
                e.stopPropagation();
                if (this.activeItem === index) {
                    this.activeItem = -1;
                }
                else {
                    this.activeItem = index;
                }
            };
        DictionaryListComponent.decorators = [
            { type: core.Component, args: [{
                        // tslint:disable-next-line:component-selector
                        selector: 'ngx-dhis2-dictionary-list',
                        template: "<div class=\"dictionary-list-container\">\n  <div\n    class=\"dictionary-item-container\"\n    *ngFor=\"let dictionaryItem of dictionaryList$ | async; let i = index\"\n  >\n    <div\n      class=\"dictionary-title\"\n      (click)=\"setActiveItem(i, $event)\"\n    >\n      <span>{{ dictionaryItem.name }}</span>\n      <div *ngIf=\"!dictionaryItem.name\">\n        <app-dictionary-progress></app-dictionary-progress>\n      </div>\n    </div>\n    <div\n      class=\"dictionary-body\"\n      *ngIf=\"activeItem === i\"\n    >\n      <div class=\"dictionary-description\" [innerHtml]=\"dictionaryItem.description\"></div>\n      <div *ngIf=\"dictionaryItem.progress.loading\">\n        <app-dictionary-progress></app-dictionary-progress>\n      </div>\n    </div>\n  </div>\n</div>\n",
                        styles: [".dictionary-list-container{box-shadow:0 0 3px rgba(0,0,0,.3)}.dictionary-item-container{border-bottom:thin solid #ececec}.dictionary-title{padding:5px 10px;cursor:pointer}.dictionary-item-container:last-child{border-bottom-style:none}.dictionary-body{border-top:thin solid #ececec;padding:10px}.dictionary-description{text-align:justify}"],
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    },] },
        ];
        /** @nocollapse */
        DictionaryListComponent.ctorParameters = function () {
            return [
                { type: store.Store }
            ];
        };
        DictionaryListComponent.propDecorators = {
            metadataIdentifiers: [{ type: core.Input }]
        };
        return DictionaryListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DictionaryProgressComponent = (function () {
        function DictionaryProgressComponent() {
        }
        /**
         * @return {?}
         */
        DictionaryProgressComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () { };
        DictionaryProgressComponent.decorators = [
            { type: core.Component, args: [{
                        // tslint:disable-next-line:component-selector
                        selector: 'app-dictionary-progress',
                        template: "<div class=\"dictionary-progress\">\n    <div class=\"animated-background\"></div>\n</div>",
                        styles: [".dictionary-progress div{height:5px;margin-top:3px}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}.animated-background{-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:#f6f7f8;background:linear-gradient(to right,#eee 8%,#ddd 18%,#eee 33%);background-size:800px 104px;height:100%;position:relative}"]
                    },] },
        ];
        /** @nocollapse */
        DictionaryProgressComponent.ctorParameters = function () { return []; };
        return DictionaryProgressComponent;
    }());

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }
    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(metadataKey, metadataValue);
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var DictionaryEffects = (function () {
        function DictionaryEffects(actions$, store$$1, httpClient, datePipe) {
            var _this = this;
            this.actions$ = actions$;
            this.store = store$$1;
            this.httpClient = httpClient;
            this.datePipe = datePipe;
            this.initializeDictionary$ = this.actions$.pipe(effects.ofType(DictionaryActionTypes.InitializeDictionaryMetadata), operators.mergeMap(function (action) {
                return _this.store
                    .select(getDictionaryList(action.dictionaryMetadataIdentifiers))
                    .pipe(operators.map(function (dictionaryList) {
                    return _.filter(action.dictionaryMetadataIdentifiers, function (metadataId) { return !_.find(dictionaryList, ['id', metadataId]); });
                }));
            }), operators.tap(function (identifiers) {
                /**
                       * Add incoming items to the dictionary list
                       */
                /**
                 * Add incoming items to the dictionary list
                 */
                _this.store.dispatch(new AddDictionaryMetadataListAction(_.map(identifiers, function (id) {
                    return {
                        id: id,
                        name: '',
                        description: '',
                        progress: {
                            loading: true,
                            loadingSucceeded: false,
                            loadingFailed: false
                        }
                    };
                })));
                /**
                       * Identify corresponding dictionary items
                       */
                rxjs.from(identifiers)
                    .pipe(operators.mergeMap(function (identifier) {
                    return _this.httpClient.get("identifiableObjects/" + identifier + ".json", true);
                }))
                    .subscribe(function (metadata) {
                    _this.store.dispatch(new UpdateDictionaryMetadataAction(metadata.id, {
                        name: metadata.name,
                        progress: {
                            loading: true,
                            loadingSucceeded: true,
                            loadingFailed: false
                        }
                    }));
                    if (metadata.href && metadata.href.indexOf('indicator') !== -1) {
                        var /** @type {?} */ indicatorUrl = 'indicators/' +
                            metadata.id +
                            '.json?fields=:all,displayName,id,name,numeratorDescription,' +
                            'denominatorDescription,denominator,numerator,annualized,decimals,indicatorType[name],user[name],' +
                            'attributeValues[value,attribute[name]],indicatorGroups[name,indicators~size],legendSet[name,symbolizer,' +
                            'legends~size],dataSets[name]';
                        _this.getIndicatorInfo(indicatorUrl, metadata.id);
                    }
                    else if (metadata.href &&
                        metadata.href.indexOf('dataElement') !== -1) {
                        var /** @type {?} */ dataElementUrl = 'dataElements/' +
                            metadata.id +
                            '.json?fields=:all,id,name,aggregationType,displayName,' +
                            'categoryCombo[id,name,categories[id,name,categoryOptions[id,name]]],dataSets[:all,!compulsoryDataElementOperands]';
                        _this.getDataElementInfo(dataElementUrl, metadata.id);
                    }
                    else if (metadata.href && metadata.href.indexOf('dataSet') !== -1) {
                        var /** @type {?} */ dataSetUrl = 'dataSets/' +
                            metadata.id +
                            '.json?fields=:all,user[:all],id,name,periodType,shortName,' +
                            'categoryCombo[id,name,categories[id,name,categoryOptions[id,name]]]';
                        _this.getDataSetInfo(dataSetUrl, metadata.id);
                    }
                });
            }));
        }
        /**
         * @param {?} dataSetUrl
         * @param {?} dataSetId
         * @return {?}
         */
        DictionaryEffects.prototype.getDataSetInfo = /**
         * @param {?} dataSetUrl
         * @param {?} dataSetId
         * @return {?}
         */
            function (dataSetUrl, dataSetId) {
                var _this = this;
                this.httpClient.get("" + dataSetUrl, true).subscribe(function (dataSet) {
                    var /** @type {?} */ dataSetDescription = '<p>' +
                        dataSet.name +
                        ' of the <strong>' +
                        dataSet.formType +
                        '</strong> Form created ' +
                        'at <strong>' +
                        _this.datePipe.transform(dataSet.created) +
                        ' by ' +
                        dataSet.user.name +
                        '</strong>';
                    if (dataSet.categoryCombo && dataSet.categoryCombo.name !== 'default') {
                        dataSetDescription +=
                            '<span> With <strong>' +
                                dataSet.categoryCombo.name +
                                '</strong> Dimension which is divided' +
                                ' into ';
                        dataSet.categoryCombo.categories.forEach(function (category, categoryIndex) {
                            if (categoryIndex !== 0 &&
                                categoryIndex !== dataSet.categoryCombo.categories.length - 1) {
                                dataSetDescription += ', ';
                            }
                            if (categoryIndex === dataSet.categoryCombo.categories.length - 1 &&
                                dataSet.categoryCombo.categories.length > 1) {
                                dataSetDescription += ' and ';
                            }
                            dataSetDescription += '<strong>';
                            category.categoryOptions.forEach(function (categoryOption, categoryOptionIndex) {
                                if (categoryOptionIndex !== 0 &&
                                    categoryOptionIndex !== category.categoryOptions.length - 1) {
                                    dataSetDescription += ', ';
                                }
                                if (categoryOptionIndex === category.categoryOptions.length - 1 &&
                                    category.categoryOptions.length > 1) {
                                    dataSetDescription += ' and ';
                                }
                                dataSetDescription += '<span>' + categoryOption.name + '</span>';
                            });
                            dataSetDescription += '</strong>';
                        });
                        dataSetDescription += '</span>';
                    }
                    dataSetDescription += '</p>';
                    _this.store.dispatch(new UpdateDictionaryMetadataAction(dataSetId, {
                        description: dataSetDescription,
                        progress: {
                            loading: false,
                            loadingSucceeded: true,
                            loadingFailed: false
                        }
                    }));
                });
            };
        /**
         * @param {?} dataElementUrl
         * @param {?} dataElementId
         * @return {?}
         */
        DictionaryEffects.prototype.getDataElementInfo = /**
         * @param {?} dataElementUrl
         * @param {?} dataElementId
         * @return {?}
         */
            function (dataElementUrl, dataElementId) {
                var _this = this;
                this.httpClient
                    .get("" + dataElementUrl, true)
                    .subscribe(function (dataElement) {
                    var /** @type {?} */ dataElementDescription = '<p>This ' +
                        dataElement.name +
                        ' of this method of data aggregation <strong>' +
                        dataElement.aggregationType +
                        '</strong> created at <strong>' +
                        _this.datePipe.transform(dataElement.created) +
                        '</strong> is only taking <strong>' +
                        dataElement.domainType +
                        '</strong> data. As the culture of helping user ' +
                        'not entering unrecognized data, therefore its only taking <strong>' +
                        dataElement.valueType +
                        '</strong> values ' +
                        'from the user input</p>';
                    if (dataElement.categoryCombo.name !== 'default') {
                        dataElementDescription +=
                            '<p><strong>' +
                                dataElement.name +
                                '</strong> consists of <strong>' +
                                dataElement.categoryCombo.name +
                                '</strong> category combinations of ';
                        dataElement.categoryCombo.categories.forEach(function (category, index) {
                            if (index !== 0 &&
                                index !== dataElement.categoryCombo.categories.length - 1) {
                                dataElementDescription += ', ';
                            }
                            if (index === dataElement.categoryCombo.categories.length - 1 &&
                                dataElement.categoryCombo.categories.length > 1) {
                                dataElementDescription += ' and ';
                            }
                            dataElementDescription += '<strong>(';
                            category.categoryOptions.forEach(function (categoryOption, categoryOptionIndex) {
                                if (categoryOptionIndex !== 0 &&
                                    categoryOptionIndex !== category.categoryOptions.length - 1) {
                                    dataElementDescription += ', ';
                                }
                                if (categoryOptionIndex === category.categoryOptions.length - 1 &&
                                    category.categoryOptions.length > 1) {
                                    dataElementDescription += ' and ';
                                }
                                dataElementDescription +=
                                    '<span>' + categoryOption.name + '</span>';
                            });
                            dataElementDescription +=
                                ')</strong> of the <strong>' +
                                    category.name +
                                    '</strong> category';
                        });
                        dataElementDescription += '</strong></p>';
                        // TODO deal with different version of dhis
                        if (dataElement.dataSets && dataElement.dataSets.length > 0) {
                            dataElementDescription +=
                                '<h5>' + dataElement.name + ' Sources</h5>';
                            dataElementDescription +=
                                '<p>More than <strong>' +
                                    dataElement.dataSets.length +
                                    '</strong> dataset ie ';
                            dataElement.dataSets.forEach(function (dataSet, dataSetIndex) {
                                if (dataSetIndex !== 0 &&
                                    dataSetIndex !== dataElement.dataSets.length - 1) {
                                    dataElementDescription += ', ';
                                }
                                if (dataSetIndex === dataElement.dataSets.length - 1 &&
                                    dataElement.dataSets.length > 1) {
                                    dataElementDescription += ' and ';
                                }
                                dataElementDescription +=
                                    '<strong>' + dataSet.name + '</strong>';
                            });
                            dataElementDescription +=
                                ' use this ' + dataElement.name + ' data element';
                            if (dataElement.dataElementGroups &&
                                dataElement.dataElementGroups.length > 0) {
                                dataElementDescription += ' and it belongs to ';
                                dataElement.dataElementGroups.forEach(function (dataElementGroup, dataElementGroupIndex) {
                                    if (dataElementGroupIndex !== 0 &&
                                        dataElementGroupIndex !==
                                            dataElement.dataElementGroups.length - 1) {
                                        dataElementDescription += ', ';
                                    }
                                    if (dataElementGroupIndex ===
                                        dataElement.dataElementGroups.length - 1 &&
                                        dataElement.dataElementGroups.length > 1) {
                                        dataElementDescription += ' and ';
                                    }
                                    dataElementDescription +=
                                        '<strong>' + dataElementGroup.name + ' Group</strong>';
                                });
                            }
                            dataElementDescription += '</p>';
                        }
                        _this.store.dispatch(new UpdateDictionaryMetadataAction(dataElementId, {
                            description: dataElementDescription,
                            progress: {
                                loading: false,
                                loadingSucceeded: true,
                                loadingFailed: false
                            }
                        }));
                    }
                });
            };
        /**
         * @param {?} indicatorUrl
         * @param {?} indicatorId
         * @return {?}
         */
        DictionaryEffects.prototype.getIndicatorInfo = /**
         * @param {?} indicatorUrl
         * @param {?} indicatorId
         * @return {?}
         */
            function (indicatorUrl, indicatorId) {
                var _this = this;
                this.httpClient.get("" + indicatorUrl, true).subscribe(function (indicator) {
                    var /** @type {?} */ indicatorDescription = '<p><strong>' +
                        indicator.name +
                        '</strong> is a <strong>' +
                        indicator.indicatorType.name +
                        ' </strong> indicator';
                    if (indicator.numeratorDescription) {
                        indicatorDescription +=
                            '<span> with the numerator described as <strong>' +
                                indicator.numeratorDescription +
                                '</strong></span>';
                    }
                    if (indicator.denominatorDescription) {
                        indicatorDescription +=
                            '<span> and denominator described as <strong>' +
                                indicator.denominatorDescription +
                                '</strong></span>';
                    }
                    indicatorDescription += '</p>';
                    if (indicator.annualized) {
                        indicatorDescription +=
                            '<p><span>It’s figure is annualized to support analysis in less than year period ' +
                                '(monthly,quarterly,semi-annually)</span></p>';
                    }
                    _this.store.dispatch(new UpdateDictionaryMetadataAction(indicatorId, {
                        description: indicatorDescription,
                        progress: {
                            loading: true,
                            loadingSucceeded: true,
                            loadingFailed: false
                        }
                    }));
                    /**
                           * Get numerator expression
                           */
                    rxjs.forkJoin(_this.httpClient.get('expressions/description?expression=' +
                        encodeURIComponent(indicator.numerator), true), _this.httpClient.get('dataSets.json?fields=periodType,id,name,timelyDays,formType,created,expiryDays&' +
                        'filter=dataSetElements.dataElement.id:in:[' +
                        _this.getAvailableDataElements(indicator.numerator) +
                        ']&paging=false', true)).subscribe(function (numeratorResults) {
                        if (numeratorResults[0]) {
                            indicatorDescription +=
                                '<p>Numerator is calculated from <strong>' +
                                    numeratorResults[0].description +
                                    '</strong>';
                        }
                        if (numeratorResults[1] && numeratorResults[1].dataSets) {
                            var /** @type {?} */ dataSets_1 = numeratorResults[1].dataSets;
                            if (dataSets_1.length > 0) {
                                indicatorDescription += ' originating from ';
                            }
                            dataSets_1.forEach(function (dataset, index) {
                                if (index !== 0 && index !== dataSets_1.length - 1) {
                                    indicatorDescription += ', ';
                                }
                                if (index === dataSets_1.length - 1 && dataSets_1.length > 1) {
                                    indicatorDescription += ' and ';
                                }
                                indicatorDescription +=
                                    '<span><strong>' +
                                        dataset.name +
                                        ',</strong> that is collected <strong>' +
                                        dataset.periodType +
                                        '</strong> with deadline for submission after <strong>' +
                                        dataset.timelyDays +
                                        ' days </strong></span>';
                            });
                        }
                        indicatorDescription += "</p>";
                        _this.store.dispatch(new UpdateDictionaryMetadataAction(indicatorId, {
                            description: indicatorDescription,
                            progress: {
                                loading: true,
                                loadingSucceeded: true,
                                loadingFailed: false
                            }
                        }));
                        /**
                                 * Get denominator expression
                                 */
                        rxjs.forkJoin(_this.httpClient.get('expressions/description?expression=' +
                            encodeURIComponent(indicator.denominator), true), _this.httpClient.get('dataSets.json?fields=periodType,id,name,timelyDays,formType,created,expiryDays&' +
                            'filter=dataSetElements.dataElement.id:in:[' +
                            _this.getAvailableDataElements(indicator.denominator) +
                            ']&paging=false', true)).subscribe(function (denominatorResults) {
                            if (denominatorResults[0]) {
                                indicatorDescription +=
                                    '<p>Denominator is calculated from <strong>' +
                                        denominatorResults[0].description +
                                        '</strong>';
                            }
                            if (denominatorResults[1] && denominatorResults[1].dataSets) {
                                var /** @type {?} */ dataSets_2 = denominatorResults[1].dataSets;
                                if (dataSets_2.length > 0) {
                                    indicatorDescription += ' originating from ';
                                }
                                dataSets_2.forEach(function (dataset, index) {
                                    if (index !== 0 && index !== dataSets_2.length - 1) {
                                        indicatorDescription += ', ';
                                    }
                                    if (index === dataSets_2.length - 1 && dataSets_2.length > 1) {
                                        indicatorDescription += ' and ';
                                    }
                                    indicatorDescription +=
                                        '<span><strong>' +
                                            dataset.name +
                                            ',</strong> that is collected <strong>' +
                                            dataset.periodType +
                                            '</strong> with deadline for submission after <strong>' +
                                            dataset.timelyDays +
                                            ' days </strong></span>';
                                });
                            }
                            indicatorDescription += "</p>";
                            /**
                                       * Indicator group
                                       */
                            if (indicator.indicatorGroups &&
                                indicator.indicatorGroups.length > 0) {
                                indicatorDescription += '<div><p>It belongs to ';
                                indicator.indicatorGroups.forEach(function (indicatorGroup, index) {
                                    if (index !== 0 &&
                                        index !== indicator.indicatorGroups.length - 1) {
                                        indicatorDescription += ', ';
                                    }
                                    if (index === indicator.indicatorGroups.length - 1 &&
                                        indicator.indicatorGroups.length > 1) {
                                        indicatorDescription += ' and ';
                                    }
                                    indicatorDescription +=
                                        '<span><strong>' +
                                            indicatorGroup.name +
                                            '</strong> with <strong>' +
                                            indicatorGroup.indicators +
                                            '</strong> other related indicators</span>';
                                });
                                indicatorDescription += '</p></div>';
                            }
                            /**
                                       * Attribute values
                                       */
                            if (indicator.attributeValues &&
                                indicator.attributeValues.length > 0) {
                                indicatorDescription +=
                                    '<div><p>Other related details associated with this indicators includes: ';
                                indicator.attributeValues.forEach(function (attr) {
                                    indicatorDescription +=
                                        '<span><strong>' +
                                            attr.attribute.name +
                                            ': ' +
                                            attr.value +
                                            '</strong></span>';
                                });
                                indicatorDescription += '</p></div>';
                            }
                            /**
                                       * Legend set
                                       */
                            if (indicator.legendSet) {
                                indicatorDescription +=
                                    '<div><p> It makes use of: <strong>' +
                                        indicator.legendSet.name +
                                        '</strong> legend' +
                                        ' set for analysis with <strong>' +
                                        indicator.legendSet.legends +
                                        ' Classes </strong>using <strong>' +
                                        indicator.legendSet.symbolizer +
                                        ' for analysis</strong></p></div>';
                            }
                            /**
                                       * User info
                                       */
                            if (indicator.user) {
                                indicatorDescription +=
                                    '<div><p>This indicator was <strong> first created </strong> in the system on <strong>' +
                                        _this.datePipe.transform(indicator.created) +
                                        '</strong> by <strong>' +
                                        indicator.user.name +
                                        '</strong></p></div>';
                            }
                            _this.store.dispatch(new UpdateDictionaryMetadataAction(indicatorId, {
                                description: indicatorDescription,
                                progress: {
                                    loading: false,
                                    loadingSucceeded: true,
                                    loadingFailed: false
                                }
                            }));
                        });
                    });
                });
            };
        /**
         * @param {?} data
         * @return {?}
         */
        DictionaryEffects.prototype.getAvailableDataElements = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var _this = this;
                var /** @type {?} */ dataElementUids = [];
                var /** @type {?} */ separators = [' ', '\\+', '-', '\\(', '\\)', '\\*', '/', ':', '\\?'];
                var /** @type {?} */ numeratorDataElements = data.split(new RegExp(separators.join('|'), 'g'));
                numeratorDataElements.forEach(function (dataElement) {
                    dataElementUids = _this.dataElementWithCategoryOptionCheck(dataElement);
                });
                return dataElementUids.join();
            };
        /**
         * @param {?} dataElement
         * @return {?}
         */
        DictionaryEffects.prototype.dataElementWithCategoryOptionCheck = /**
         * @param {?} dataElement
         * @return {?}
         */
            function (dataElement) {
                var /** @type {?} */ uid = [];
                if (dataElement.indexOf('.') >= 1) {
                    uid.push(dataElement
                        .replace(/#/g, '')
                        .replace(/{/g, '')
                        .replace(/}/g, '')
                        .split('.')[0]);
                }
                else {
                    uid.push(dataElement
                        .replace(/#/g, '')
                        .replace(/{/g, '')
                        .replace(/}/g, ''));
                }
                return uid;
            };
        DictionaryEffects.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        DictionaryEffects.ctorParameters = function () {
            return [
                { type: effects.Actions },
                { type: store.Store },
                { type: ngxDhis2HttpClient.NgxDhis2HttpClientService },
                { type: common.DatePipe }
            ];
        };
        __decorate([
            effects.Effect({ dispatch: false }),
            __metadata("design:type", rxjs.Observable)
        ], DictionaryEffects.prototype, "initializeDictionary$", void 0);
        return DictionaryEffects;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var NgxDhis2DictionaryModule = (function () {
        function NgxDhis2DictionaryModule() {
        }
        NgxDhis2DictionaryModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            http.HttpClientModule,
                            store.StoreModule.forFeature('dictionary', dictionaryReducer),
                            effects.EffectsModule.forFeature([DictionaryEffects])
                        ],
                        declarations: [DictionaryListComponent, DictionaryProgressComponent],
                        exports: [DictionaryListComponent],
                        providers: [common.DatePipe]
                    },] },
        ];
        return NgxDhis2DictionaryModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.NgxDhis2DictionaryModule = NgxDhis2DictionaryModule;
    exports.ɵd = DictionaryListComponent;
    exports.ɵe = DictionaryProgressComponent;
    exports.ɵc = DictionaryEffects;
    exports.ɵb = dictionaryReducer;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlzcHR6LW5neC1kaGlzMi1kaWN0aW9uYXJ5LnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vQGhpc3B0ei9uZ3gtZGhpczItZGljdGlvbmFyeS9saWIvc3RvcmUvYWN0aW9ucy9kaWN0aW9uYXJ5LmFjdGlvbnMudHMiLCJuZzovL0BoaXNwdHovbmd4LWRoaXMyLWRpY3Rpb25hcnkvbGliL3N0b3JlL3JlZHVjZXJzL2RpY3Rpb25hcnkucmVkdWNlci50cyIsIm5nOi8vQGhpc3B0ei9uZ3gtZGhpczItZGljdGlvbmFyeS9saWIvc3RvcmUvc2VsZWN0b3JzL2RpY3Rpb25hcnkuc2VsZWN0b3JzLnRzIiwibmc6Ly9AaGlzcHR6L25neC1kaGlzMi1kaWN0aW9uYXJ5L2xpYi9jb21wb25lbnRzL2RpY3Rpb25hcnktbGlzdC9kaWN0aW9uYXJ5LWxpc3QuY29tcG9uZW50LnRzIiwibmc6Ly9AaGlzcHR6L25neC1kaGlzMi1kaWN0aW9uYXJ5L2xpYi9jb21wb25lbnRzL2RpY3Rpb25hcnktcHJvZ3Jlc3MvZGljdGlvbmFyeS1wcm9ncmVzcy5jb21wb25lbnQudHMiLG51bGwsIm5nOi8vQGhpc3B0ei9uZ3gtZGhpczItZGljdGlvbmFyeS9saWIvc3RvcmUvZWZmZWN0cy9kaWN0aW9uYXJ5LmVmZmVjdHMudHMiLCJuZzovL0BoaXNwdHovbmd4LWRoaXMyLWRpY3Rpb25hcnkvbGliL25neC1kaGlzMi1kaWN0aW9uYXJ5Lm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBNZXRhZGF0YURpY3Rpb25hcnkgfSBmcm9tICcuLi8uLi9tb2RlbHMvZGljdGlvbmFyeSc7XG5cbmV4cG9ydCBlbnVtIERpY3Rpb25hcnlBY3Rpb25UeXBlcyB7XG4gIEluaXRpYWxpemVEaWN0aW9uYXJ5TWV0YWRhdGEgPSAnW0RpY3Rpb25hcnldIGluaXRpYWxpemUgaW5jb21pbmcgbWV0YWRhdGEnLFxuICBBZGREaWN0aW9uYXJ5TWV0YWRhdGFMaXN0ID0gJ1tEaWN0aW9uYXJ5XSBhZGQgZGljdGlvbmFyeSBtZXRhZGF0YSBsaXN0JyxcbiAgVXBkYXRlRGljdGlvbmFyeU1ldGFkYXRhID0gJ1tEaWN0aW9uYXJ5XSB1cGRhdGUgZGljdGlvbmFyeSBtZXRhZGF0YSBsaXN0J1xufVxuXG5leHBvcnQgY2xhc3MgSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YUFjdGlvbiBpbXBsZW1lbnRzIEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBEaWN0aW9uYXJ5QWN0aW9uVHlwZXMuSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YTtcbiAgY29uc3RydWN0b3IocHVibGljIGRpY3Rpb25hcnlNZXRhZGF0YUlkZW50aWZpZXJzOiBBcnJheTxzdHJpbmc+KSB7fVxufVxuXG5leHBvcnQgY2xhc3MgQWRkRGljdGlvbmFyeU1ldGFkYXRhTGlzdEFjdGlvbiBpbXBsZW1lbnRzIEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBEaWN0aW9uYXJ5QWN0aW9uVHlwZXMuQWRkRGljdGlvbmFyeU1ldGFkYXRhTGlzdDtcbiAgY29uc3RydWN0b3IocHVibGljIGRpY3Rpb25hcnlNZXRhZGF0YUxpc3Q6IE1ldGFkYXRhRGljdGlvbmFyeVtdKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlRGljdGlvbmFyeU1ldGFkYXRhQWN0aW9uIGltcGxlbWVudHMgQWN0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZSA9IERpY3Rpb25hcnlBY3Rpb25UeXBlcy5VcGRhdGVEaWN0aW9uYXJ5TWV0YWRhdGE7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBkaWN0aW9uYXJ5TWV0YWRhdGFJZDogc3RyaW5nLFxuICAgIHB1YmxpYyBjaGFuZ2VzOiBQYXJ0aWFsPE1ldGFkYXRhRGljdGlvbmFyeT5cbiAgKSB7fVxufVxuXG5leHBvcnQgdHlwZSBEaWN0aW9uYXJ5QWN0aW9ucyA9XG4gIHwgSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YUFjdGlvblxuICB8IEFkZERpY3Rpb25hcnlNZXRhZGF0YUxpc3RBY3Rpb25cbiAgfCBVcGRhdGVEaWN0aW9uYXJ5TWV0YWRhdGFBY3Rpb247XG4iLCJpbXBvcnQgeyBFbnRpdHlTdGF0ZSwgRW50aXR5QWRhcHRlciwgY3JlYXRlRW50aXR5QWRhcHRlciB9IGZyb20gJ0BuZ3J4L2VudGl0eSc7XG5pbXBvcnQgeyBjcmVhdGVGZWF0dXJlU2VsZWN0b3IsIE1lbW9pemVkU2VsZWN0b3IgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBEaWN0aW9uYXJ5IH0gZnJvbSAnQG5ncngvZW50aXR5L3NyYy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgRGljdGlvbmFyeUFjdGlvbnMsXG4gIERpY3Rpb25hcnlBY3Rpb25UeXBlc1xufSBmcm9tICcuLi9hY3Rpb25zL2RpY3Rpb25hcnkuYWN0aW9ucyc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBNZXRhZGF0YURpY3Rpb25hcnkgfSBmcm9tICcuLi8uLi9tb2RlbHMvZGljdGlvbmFyeSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGljdGlvbmFyeVN0YXRlIGV4dGVuZHMgRW50aXR5U3RhdGU8TWV0YWRhdGFEaWN0aW9uYXJ5PiB7fVxuXG5leHBvcnQgY29uc3QgZGljdGlvbmFyeUFkYXB0ZXI6IEVudGl0eUFkYXB0ZXI8XG4gIE1ldGFkYXRhRGljdGlvbmFyeVxuPiA9IGNyZWF0ZUVudGl0eUFkYXB0ZXI8TWV0YWRhdGFEaWN0aW9uYXJ5PigpO1xuXG5jb25zdCBpbml0aWFsU3RhdGU6IERpY3Rpb25hcnlTdGF0ZSA9IGRpY3Rpb25hcnlBZGFwdGVyLmdldEluaXRpYWxTdGF0ZSh7fSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWN0aW9uYXJ5UmVkdWNlcihcbiAgc3RhdGU6IERpY3Rpb25hcnlTdGF0ZSA9IGluaXRpYWxTdGF0ZSxcbiAgYWN0aW9uOiBEaWN0aW9uYXJ5QWN0aW9uc1xuKTogRGljdGlvbmFyeVN0YXRlIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgRGljdGlvbmFyeUFjdGlvblR5cGVzLkFkZERpY3Rpb25hcnlNZXRhZGF0YUxpc3Q6IHtcbiAgICAgIHJldHVybiBkaWN0aW9uYXJ5QWRhcHRlci5hZGRNYW55KGFjdGlvbi5kaWN0aW9uYXJ5TWV0YWRhdGFMaXN0LCBzdGF0ZSk7XG4gICAgfVxuICAgIGNhc2UgRGljdGlvbmFyeUFjdGlvblR5cGVzLlVwZGF0ZURpY3Rpb25hcnlNZXRhZGF0YToge1xuICAgICAgcmV0dXJuIGRpY3Rpb25hcnlBZGFwdGVyLnVwZGF0ZU9uZShcbiAgICAgICAgeyBpZDogYWN0aW9uLmRpY3Rpb25hcnlNZXRhZGF0YUlkLCBjaGFuZ2VzOiBhY3Rpb24uY2hhbmdlcyB9LFxuICAgICAgICBzdGF0ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBjb25zdCBnZXREaWN0aW9uYXJ5U3RhdGUgPSBjcmVhdGVGZWF0dXJlU2VsZWN0b3I8RGljdGlvbmFyeVN0YXRlPihcbiAgJ2RpY3Rpb25hcnknXG4pO1xuXG5leHBvcnQgY29uc3Qge1xuICBzZWxlY3RFbnRpdGllczogZ2V0RGljdGlvbmFyeU1ldGFkYXRhRW50aXRpZXNcbn0gPSBkaWN0aW9uYXJ5QWRhcHRlci5nZXRTZWxlY3RvcnMoZ2V0RGljdGlvbmFyeVN0YXRlKTtcbiIsImltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yLCBNZW1vaXplZFNlbGVjdG9yIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgZ2V0RGljdGlvbmFyeU1ldGFkYXRhRW50aXRpZXMgfSBmcm9tICcuLi9yZWR1Y2Vycy9kaWN0aW9uYXJ5LnJlZHVjZXInO1xuXG5leHBvcnQgY29uc3QgZ2V0RGljdGlvbmFyeUxpc3QgPSBtZXRhZGF0YUlkZW50aWZpZXJzID0+XG4gIGNyZWF0ZVNlbGVjdG9yKFxuICAgIGdldERpY3Rpb25hcnlNZXRhZGF0YUVudGl0aWVzLFxuICAgIChkaWN0aW9uYXJ5TWV0YWRhdGFFbnRpdGllczogYW55KSA9PlxuICAgICAgXy5maWx0ZXIoXG4gICAgICAgIF8ubWFwKFxuICAgICAgICAgIG1ldGFkYXRhSWRlbnRpZmllcnMsXG4gICAgICAgICAgbWV0YWRhdGFJZCA9PiBkaWN0aW9uYXJ5TWV0YWRhdGFFbnRpdGllc1ttZXRhZGF0YUlkXVxuICAgICAgICApLFxuICAgICAgICBtZXRhZGF0YSA9PiBtZXRhZGF0YVxuICAgICAgKVxuICApO1xuIiwiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgSW5wdXQsXG4gIE9uSW5pdFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTWV0YWRhdGFEaWN0aW9uYXJ5IH0gZnJvbSAnLi4vLi4vbW9kZWxzL2RpY3Rpb25hcnknO1xuXG5pbXBvcnQgeyBEaWN0aW9uYXJ5U3RhdGUgfSBmcm9tICcuLi8uLi9zdG9yZS9yZWR1Y2Vycy9kaWN0aW9uYXJ5LnJlZHVjZXInO1xuaW1wb3J0IHsgZ2V0RGljdGlvbmFyeUxpc3QgfSBmcm9tICcuLi8uLi9zdG9yZS9zZWxlY3RvcnMvZGljdGlvbmFyeS5zZWxlY3RvcnMnO1xuaW1wb3J0IHsgSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YUFjdGlvbiB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMvZGljdGlvbmFyeS5hY3Rpb25zJztcblxuQENvbXBvbmVudCh7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjb21wb25lbnQtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICduZ3gtZGhpczItZGljdGlvbmFyeS1saXN0JyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiZGljdGlvbmFyeS1saXN0LWNvbnRhaW5lclwiPlxuICA8ZGl2XG4gICAgY2xhc3M9XCJkaWN0aW9uYXJ5LWl0ZW0tY29udGFpbmVyXCJcbiAgICAqbmdGb3I9XCJsZXQgZGljdGlvbmFyeUl0ZW0gb2YgZGljdGlvbmFyeUxpc3QkIHwgYXN5bmM7IGxldCBpID0gaW5kZXhcIlxuICA+XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJkaWN0aW9uYXJ5LXRpdGxlXCJcbiAgICAgIChjbGljayk9XCJzZXRBY3RpdmVJdGVtKGksICRldmVudClcIlxuICAgID5cbiAgICAgIDxzcGFuPnt7IGRpY3Rpb25hcnlJdGVtLm5hbWUgfX08L3NwYW4+XG4gICAgICA8ZGl2ICpuZ0lmPVwiIWRpY3Rpb25hcnlJdGVtLm5hbWVcIj5cbiAgICAgICAgPGFwcC1kaWN0aW9uYXJ5LXByb2dyZXNzPjwvYXBwLWRpY3Rpb25hcnktcHJvZ3Jlc3M+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cImRpY3Rpb25hcnktYm9keVwiXG4gICAgICAqbmdJZj1cImFjdGl2ZUl0ZW0gPT09IGlcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJkaWN0aW9uYXJ5LWRlc2NyaXB0aW9uXCIgW2lubmVySHRtbF09XCJkaWN0aW9uYXJ5SXRlbS5kZXNjcmlwdGlvblwiPjwvZGl2PlxuICAgICAgPGRpdiAqbmdJZj1cImRpY3Rpb25hcnlJdGVtLnByb2dyZXNzLmxvYWRpbmdcIj5cbiAgICAgICAgPGFwcC1kaWN0aW9uYXJ5LXByb2dyZXNzPjwvYXBwLWRpY3Rpb25hcnktcHJvZ3Jlc3M+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2AuZGljdGlvbmFyeS1saXN0LWNvbnRhaW5lcntib3gtc2hhZG93OjAgMCAzcHggcmdiYSgwLDAsMCwuMyl9LmRpY3Rpb25hcnktaXRlbS1jb250YWluZXJ7Ym9yZGVyLWJvdHRvbTp0aGluIHNvbGlkICNlY2VjZWN9LmRpY3Rpb25hcnktdGl0bGV7cGFkZGluZzo1cHggMTBweDtjdXJzb3I6cG9pbnRlcn0uZGljdGlvbmFyeS1pdGVtLWNvbnRhaW5lcjpsYXN0LWNoaWxke2JvcmRlci1ib3R0b20tc3R5bGU6bm9uZX0uZGljdGlvbmFyeS1ib2R5e2JvcmRlci10b3A6dGhpbiBzb2xpZCAjZWNlY2VjO3BhZGRpbmc6MTBweH0uZGljdGlvbmFyeS1kZXNjcmlwdGlvbnt0ZXh0LWFsaWduOmp1c3RpZnl9YF0sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIERpY3Rpb25hcnlMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgbWV0YWRhdGFJZGVudGlmaWVyczogQXJyYXk8c3RyaW5nPjtcbiAgZGljdGlvbmFyeUxpc3QkOiBPYnNlcnZhYmxlPE1ldGFkYXRhRGljdGlvbmFyeVtdPjtcbiAgYWN0aXZlSXRlbTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RvcmU6IFN0b3JlPERpY3Rpb25hcnlTdGF0ZT4pIHtcbiAgICB0aGlzLmFjdGl2ZUl0ZW0gPSAwO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKHRoaXMubWV0YWRhdGFJZGVudGlmaWVycy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBuZXcgSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YUFjdGlvbih0aGlzLm1ldGFkYXRhSWRlbnRpZmllcnMpXG4gICAgICApO1xuXG4gICAgICB0aGlzLmRpY3Rpb25hcnlMaXN0JCA9IHRoaXMuc3RvcmUuc2VsZWN0KFxuICAgICAgICBnZXREaWN0aW9uYXJ5TGlzdCh0aGlzLm1ldGFkYXRhSWRlbnRpZmllcnMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHNldEFjdGl2ZUl0ZW0oaW5kZXgsIGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0gPT09IGluZGV4KSB7XG4gICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hY3RpdmVJdGVtID0gaW5kZXg7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmNvbXBvbmVudC1zZWxlY3RvclxuICBzZWxlY3RvcjogJ2FwcC1kaWN0aW9uYXJ5LXByb2dyZXNzJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiZGljdGlvbmFyeS1wcm9ncmVzc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlZC1iYWNrZ3JvdW5kXCI+PC9kaXY+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgLmRpY3Rpb25hcnktcHJvZ3Jlc3MgZGl2e2hlaWdodDo1cHg7bWFyZ2luLXRvcDozcHh9QC13ZWJraXQta2V5ZnJhbWVzIHBsYWNlSG9sZGVyU2hpbW1lcnswJXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi00NjhweCAwfTEwMCV7YmFja2dyb3VuZC1wb3NpdGlvbjo0NjhweCAwfX1Aa2V5ZnJhbWVzIHBsYWNlSG9sZGVyU2hpbW1lcnswJXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi00NjhweCAwfTEwMCV7YmFja2dyb3VuZC1wb3NpdGlvbjo0NjhweCAwfX0uYW5pbWF0ZWQtYmFja2dyb3VuZHstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjoxLjVzO2FuaW1hdGlvbi1kdXJhdGlvbjoxLjVzOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzOy13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cGxhY2VIb2xkZXJTaGltbWVyO2FuaW1hdGlvbi1uYW1lOnBsYWNlSG9sZGVyU2hpbW1lcjstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO2JhY2tncm91bmQ6I2Y2ZjdmODtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byByaWdodCwjZWVlIDglLCNkZGQgMTglLCNlZWUgMzMlKTtiYWNrZ3JvdW5kLXNpemU6ODAwcHggMTA0cHg7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmV9YF1cbn0pXG5leHBvcnQgY2xhc3MgRGljdGlvbmFyeVByb2dyZXNzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIG5nT25Jbml0KCkge31cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0ZVBpcGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBBY3Rpb25zLCBFZmZlY3QsIG9mVHlwZSB9IGZyb20gJ0BuZ3J4L2VmZmVjdHMnO1xuXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBtZXJnZU1hcCwgbWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCBmb3JrSm9pbiB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBOZ3hEaGlzMkh0dHBDbGllbnRTZXJ2aWNlIH0gZnJvbSAnQGhpc3B0ei9uZ3gtZGhpczItaHR0cC1jbGllbnQnO1xuaW1wb3J0IHsgRGljdGlvbmFyeVN0YXRlIH0gZnJvbSAnLi4vcmVkdWNlcnMvZGljdGlvbmFyeS5yZWR1Y2VyJztcblxuaW1wb3J0IHtcbiAgRGljdGlvbmFyeUFjdGlvblR5cGVzLFxuICBJbml0aWFsaXplRGljdGlvbmFyeU1ldGFkYXRhQWN0aW9uLFxuICBBZGREaWN0aW9uYXJ5TWV0YWRhdGFMaXN0QWN0aW9uLFxuICBVcGRhdGVEaWN0aW9uYXJ5TWV0YWRhdGFBY3Rpb25cbn0gZnJvbSAnLi4vYWN0aW9ucy9kaWN0aW9uYXJ5LmFjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0RGljdGlvbmFyeUxpc3QgfSBmcm9tICcuLi9zZWxlY3RvcnMvZGljdGlvbmFyeS5zZWxlY3RvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGljdGlvbmFyeUVmZmVjdHMge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFjdGlvbnMkOiBBY3Rpb25zLFxuICAgIHByaXZhdGUgc3RvcmU6IFN0b3JlPERpY3Rpb25hcnlTdGF0ZT4sXG4gICAgcHJpdmF0ZSBodHRwQ2xpZW50OiBOZ3hEaGlzMkh0dHBDbGllbnRTZXJ2aWNlLFxuICAgIHByaXZhdGUgZGF0ZVBpcGU6IERhdGVQaXBlXG4gICkge31cblxuICBARWZmZWN0KHsgZGlzcGF0Y2g6IGZhbHNlIH0pXG4gIGluaXRpYWxpemVEaWN0aW9uYXJ5JDogT2JzZXJ2YWJsZTxhbnk+ID0gdGhpcy5hY3Rpb25zJC5waXBlKFxuICAgIG9mVHlwZShEaWN0aW9uYXJ5QWN0aW9uVHlwZXMuSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YSksXG4gICAgbWVyZ2VNYXAoKGFjdGlvbjogSW5pdGlhbGl6ZURpY3Rpb25hcnlNZXRhZGF0YUFjdGlvbikgPT5cbiAgICAgIHRoaXMuc3RvcmVcbiAgICAgICAgLnNlbGVjdChnZXREaWN0aW9uYXJ5TGlzdChhY3Rpb24uZGljdGlvbmFyeU1ldGFkYXRhSWRlbnRpZmllcnMpKVxuICAgICAgICAucGlwZShcbiAgICAgICAgICBtYXAoKGRpY3Rpb25hcnlMaXN0OiBhbnlbXSkgPT5cbiAgICAgICAgICAgIF8uZmlsdGVyKFxuICAgICAgICAgICAgICBhY3Rpb24uZGljdGlvbmFyeU1ldGFkYXRhSWRlbnRpZmllcnMsXG4gICAgICAgICAgICAgIG1ldGFkYXRhSWQgPT4gIV8uZmluZChkaWN0aW9uYXJ5TGlzdCwgWydpZCcsIG1ldGFkYXRhSWRdKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICksXG4gICAgdGFwKGlkZW50aWZpZXJzID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogQWRkIGluY29taW5nIGl0ZW1zIHRvIHRoZSBkaWN0aW9uYXJ5IGxpc3RcbiAgICAgICAqL1xuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgbmV3IEFkZERpY3Rpb25hcnlNZXRhZGF0YUxpc3RBY3Rpb24oXG4gICAgICAgICAgXy5tYXAoaWRlbnRpZmllcnMsIGlkID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgbG9hZGluZ1N1Y2NlZWRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9hZGluZ0ZhaWxlZDogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgLyoqXG4gICAgICAgKiBJZGVudGlmeSBjb3JyZXNwb25kaW5nIGRpY3Rpb25hcnkgaXRlbXNcbiAgICAgICAqL1xuICAgICAgZnJvbShpZGVudGlmaWVycylcbiAgICAgICAgLnBpcGUoXG4gICAgICAgICAgbWVyZ2VNYXAoaWRlbnRpZmllciA9PlxuICAgICAgICAgICAgdGhpcy5odHRwQ2xpZW50LmdldChgaWRlbnRpZmlhYmxlT2JqZWN0cy8ke2lkZW50aWZpZXJ9Lmpzb25gLCB0cnVlKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKChtZXRhZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIG5ldyBVcGRhdGVEaWN0aW9uYXJ5TWV0YWRhdGFBY3Rpb24obWV0YWRhdGEuaWQsIHtcbiAgICAgICAgICAgICAgbmFtZTogbWV0YWRhdGEubmFtZSxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmdTdWNjZWVkZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbG9hZGluZ0ZhaWxlZDogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKG1ldGFkYXRhLmhyZWYgJiYgbWV0YWRhdGEuaHJlZi5pbmRleE9mKCdpbmRpY2F0b3InKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGljYXRvclVybCA9XG4gICAgICAgICAgICAgICdpbmRpY2F0b3JzLycgK1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pZCArXG4gICAgICAgICAgICAgICcuanNvbj9maWVsZHM9OmFsbCxkaXNwbGF5TmFtZSxpZCxuYW1lLG51bWVyYXRvckRlc2NyaXB0aW9uLCcgK1xuICAgICAgICAgICAgICAnZGVub21pbmF0b3JEZXNjcmlwdGlvbixkZW5vbWluYXRvcixudW1lcmF0b3IsYW5udWFsaXplZCxkZWNpbWFscyxpbmRpY2F0b3JUeXBlW25hbWVdLHVzZXJbbmFtZV0sJyArXG4gICAgICAgICAgICAgICdhdHRyaWJ1dGVWYWx1ZXNbdmFsdWUsYXR0cmlidXRlW25hbWVdXSxpbmRpY2F0b3JHcm91cHNbbmFtZSxpbmRpY2F0b3JzfnNpemVdLGxlZ2VuZFNldFtuYW1lLHN5bWJvbGl6ZXIsJyArXG4gICAgICAgICAgICAgICdsZWdlbmRzfnNpemVdLGRhdGFTZXRzW25hbWVdJztcbiAgICAgICAgICAgIHRoaXMuZ2V0SW5kaWNhdG9ySW5mbyhpbmRpY2F0b3JVcmwsIG1ldGFkYXRhLmlkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgbWV0YWRhdGEuaHJlZiAmJlxuICAgICAgICAgICAgbWV0YWRhdGEuaHJlZi5pbmRleE9mKCdkYXRhRWxlbWVudCcpICE9PSAtMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgZGF0YUVsZW1lbnRVcmwgPVxuICAgICAgICAgICAgICAnZGF0YUVsZW1lbnRzLycgK1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pZCArXG4gICAgICAgICAgICAgICcuanNvbj9maWVsZHM9OmFsbCxpZCxuYW1lLGFnZ3JlZ2F0aW9uVHlwZSxkaXNwbGF5TmFtZSwnICtcbiAgICAgICAgICAgICAgJ2NhdGVnb3J5Q29tYm9baWQsbmFtZSxjYXRlZ29yaWVzW2lkLG5hbWUsY2F0ZWdvcnlPcHRpb25zW2lkLG5hbWVdXV0sZGF0YVNldHNbOmFsbCwhY29tcHVsc29yeURhdGFFbGVtZW50T3BlcmFuZHNdJztcbiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUVsZW1lbnRJbmZvKGRhdGFFbGVtZW50VXJsLCBtZXRhZGF0YS5pZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXRhZGF0YS5ocmVmICYmIG1ldGFkYXRhLmhyZWYuaW5kZXhPZignZGF0YVNldCcpICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YVNldFVybCA9XG4gICAgICAgICAgICAgICdkYXRhU2V0cy8nICtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaWQgK1xuICAgICAgICAgICAgICAnLmpzb24/ZmllbGRzPTphbGwsdXNlcls6YWxsXSxpZCxuYW1lLHBlcmlvZFR5cGUsc2hvcnROYW1lLCcgK1xuICAgICAgICAgICAgICAnY2F0ZWdvcnlDb21ib1tpZCxuYW1lLGNhdGVnb3JpZXNbaWQsbmFtZSxjYXRlZ29yeU9wdGlvbnNbaWQsbmFtZV1dXSc7XG4gICAgICAgICAgICB0aGlzLmdldERhdGFTZXRJbmZvKGRhdGFTZXRVcmwsIG1ldGFkYXRhLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pXG4gICk7XG5cbiAgZ2V0RGF0YVNldEluZm8oZGF0YVNldFVybDogc3RyaW5nLCBkYXRhU2V0SWQ6IHN0cmluZykge1xuICAgIHRoaXMuaHR0cENsaWVudC5nZXQoYCR7ZGF0YVNldFVybH1gLCB0cnVlKS5zdWJzY3JpYmUoKGRhdGFTZXQ6IGFueSkgPT4ge1xuICAgICAgbGV0IGRhdGFTZXREZXNjcmlwdGlvbiA9XG4gICAgICAgICc8cD4nICtcbiAgICAgICAgZGF0YVNldC5uYW1lICtcbiAgICAgICAgJyBvZiB0aGUgPHN0cm9uZz4nICtcbiAgICAgICAgZGF0YVNldC5mb3JtVHlwZSArXG4gICAgICAgICc8L3N0cm9uZz4gRm9ybSBjcmVhdGVkICcgK1xuICAgICAgICAnYXQgPHN0cm9uZz4nICtcbiAgICAgICAgdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0oZGF0YVNldC5jcmVhdGVkKSArXG4gICAgICAgICcgYnkgJyArXG4gICAgICAgIGRhdGFTZXQudXNlci5uYW1lICtcbiAgICAgICAgJzwvc3Ryb25nPic7XG5cbiAgICAgIGlmIChkYXRhU2V0LmNhdGVnb3J5Q29tYm8gJiYgZGF0YVNldC5jYXRlZ29yeUNvbWJvLm5hbWUgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICBkYXRhU2V0RGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAnPHNwYW4+IFdpdGggPHN0cm9uZz4nICtcbiAgICAgICAgICBkYXRhU2V0LmNhdGVnb3J5Q29tYm8ubmFtZSArXG4gICAgICAgICAgJzwvc3Ryb25nPiBEaW1lbnNpb24gd2hpY2ggaXMgZGl2aWRlZCcgK1xuICAgICAgICAgICcgaW50byAnO1xuXG4gICAgICAgIGRhdGFTZXQuY2F0ZWdvcnlDb21iby5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5LCBjYXRlZ29yeUluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCAhPT0gMCAmJlxuICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCAhPT0gZGF0YVNldC5jYXRlZ29yeUNvbWJvLmNhdGVnb3JpZXMubGVuZ3RoIC0gMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGF0YVNldERlc2NyaXB0aW9uICs9ICcsICc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCA9PT0gZGF0YVNldC5jYXRlZ29yeUNvbWJvLmNhdGVnb3JpZXMubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgZGF0YVNldC5jYXRlZ29yeUNvbWJvLmNhdGVnb3JpZXMubGVuZ3RoID4gMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGF0YVNldERlc2NyaXB0aW9uICs9ICcgYW5kICc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVNldERlc2NyaXB0aW9uICs9ICc8c3Ryb25nPic7XG5cbiAgICAgICAgICBjYXRlZ29yeS5jYXRlZ29yeU9wdGlvbnMuZm9yRWFjaChcbiAgICAgICAgICAgIChjYXRlZ29yeU9wdGlvbiwgY2F0ZWdvcnlPcHRpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlPcHRpb25JbmRleCAhPT0gMCAmJlxuICAgICAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9uSW5kZXggIT09IGNhdGVnb3J5LmNhdGVnb3J5T3B0aW9ucy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGRhdGFTZXREZXNjcmlwdGlvbiArPSAnLCAnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9uSW5kZXggPT09IGNhdGVnb3J5LmNhdGVnb3J5T3B0aW9ucy5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkuY2F0ZWdvcnlPcHRpb25zLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGF0YVNldERlc2NyaXB0aW9uICs9ICcgYW5kICc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkYXRhU2V0RGVzY3JpcHRpb24gKz0gJzxzcGFuPicgKyBjYXRlZ29yeU9wdGlvbi5uYW1lICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBkYXRhU2V0RGVzY3JpcHRpb24gKz0gJzwvc3Ryb25nPic7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRhdGFTZXREZXNjcmlwdGlvbiArPSAnPC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGRhdGFTZXREZXNjcmlwdGlvbiArPSAnPC9wPic7XG5cbiAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIG5ldyBVcGRhdGVEaWN0aW9uYXJ5TWV0YWRhdGFBY3Rpb24oZGF0YVNldElkLCB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IGRhdGFTZXREZXNjcmlwdGlvbixcbiAgICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBsb2FkaW5nU3VjY2VlZGVkOiB0cnVlLFxuICAgICAgICAgICAgbG9hZGluZ0ZhaWxlZDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0RGF0YUVsZW1lbnRJbmZvKGRhdGFFbGVtZW50VXJsOiBzdHJpbmcsIGRhdGFFbGVtZW50SWQ6IHN0cmluZykge1xuICAgIHRoaXMuaHR0cENsaWVudFxuICAgICAgLmdldChgJHtkYXRhRWxlbWVudFVybH1gLCB0cnVlKVxuICAgICAgLnN1YnNjcmliZSgoZGF0YUVsZW1lbnQ6IGFueSkgPT4ge1xuICAgICAgICBsZXQgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiA9XG4gICAgICAgICAgJzxwPlRoaXMgJyArXG4gICAgICAgICAgZGF0YUVsZW1lbnQubmFtZSArXG4gICAgICAgICAgJyBvZiB0aGlzIG1ldGhvZCBvZiBkYXRhIGFnZ3JlZ2F0aW9uIDxzdHJvbmc+JyArXG4gICAgICAgICAgZGF0YUVsZW1lbnQuYWdncmVnYXRpb25UeXBlICtcbiAgICAgICAgICAnPC9zdHJvbmc+IGNyZWF0ZWQgYXQgPHN0cm9uZz4nICtcbiAgICAgICAgICB0aGlzLmRhdGVQaXBlLnRyYW5zZm9ybShkYXRhRWxlbWVudC5jcmVhdGVkKSArXG4gICAgICAgICAgJzwvc3Ryb25nPiBpcyBvbmx5IHRha2luZyA8c3Ryb25nPicgK1xuICAgICAgICAgIGRhdGFFbGVtZW50LmRvbWFpblR5cGUgK1xuICAgICAgICAgICc8L3N0cm9uZz4gZGF0YS4gQXMgdGhlIGN1bHR1cmUgb2YgaGVscGluZyB1c2VyICcgK1xuICAgICAgICAgICdub3QgZW50ZXJpbmcgdW5yZWNvZ25pemVkIGRhdGEsIHRoZXJlZm9yZSBpdHMgb25seSB0YWtpbmcgPHN0cm9uZz4nICtcbiAgICAgICAgICBkYXRhRWxlbWVudC52YWx1ZVR5cGUgK1xuICAgICAgICAgICc8L3N0cm9uZz4gdmFsdWVzICcgK1xuICAgICAgICAgICdmcm9tIHRoZSB1c2VyIGlucHV0PC9wPic7XG5cbiAgICAgICAgaWYgKGRhdGFFbGVtZW50LmNhdGVnb3J5Q29tYm8ubmFtZSAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgJzxwPjxzdHJvbmc+JyArXG4gICAgICAgICAgICBkYXRhRWxlbWVudC5uYW1lICtcbiAgICAgICAgICAgICc8L3N0cm9uZz4gY29uc2lzdHMgb2YgPHN0cm9uZz4nICtcbiAgICAgICAgICAgIGRhdGFFbGVtZW50LmNhdGVnb3J5Q29tYm8ubmFtZSArXG4gICAgICAgICAgICAnPC9zdHJvbmc+IGNhdGVnb3J5IGNvbWJpbmF0aW9ucyBvZiAnO1xuXG4gICAgICAgICAgZGF0YUVsZW1lbnQuY2F0ZWdvcnlDb21iby5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbmRleCAhPT0gMCAmJlxuICAgICAgICAgICAgICBpbmRleCAhPT0gZGF0YUVsZW1lbnQuY2F0ZWdvcnlDb21iby5jYXRlZ29yaWVzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9ICcsICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW5kZXggPT09IGRhdGFFbGVtZW50LmNhdGVnb3J5Q29tYm8uY2F0ZWdvcmllcy5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgIGRhdGFFbGVtZW50LmNhdGVnb3J5Q29tYm8uY2F0ZWdvcmllcy5sZW5ndGggPiAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiArPSAnIGFuZCAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9ICc8c3Ryb25nPignO1xuICAgICAgICAgICAgY2F0ZWdvcnkuY2F0ZWdvcnlPcHRpb25zLmZvckVhY2goXG4gICAgICAgICAgICAgIChjYXRlZ29yeU9wdGlvbiwgY2F0ZWdvcnlPcHRpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9uSW5kZXggIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9uSW5kZXggIT09IGNhdGVnb3J5LmNhdGVnb3J5T3B0aW9ucy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9ICcsICc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlPcHRpb25JbmRleCA9PT0gY2F0ZWdvcnkuY2F0ZWdvcnlPcHRpb25zLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmNhdGVnb3J5T3B0aW9ucy5sZW5ndGggPiAxXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9ICcgYW5kICc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgICAgICAgJzxzcGFuPicgKyBjYXRlZ29yeU9wdGlvbi5uYW1lICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICcpPC9zdHJvbmc+IG9mIHRoZSA8c3Ryb25nPicgK1xuICAgICAgICAgICAgICBjYXRlZ29yeS5uYW1lICtcbiAgICAgICAgICAgICAgJzwvc3Ryb25nPiBjYXRlZ29yeSc7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9ICc8L3N0cm9uZz48L3A+JztcblxuICAgICAgICAgIC8vIFRPRE8gZGVhbCB3aXRoIGRpZmZlcmVudCB2ZXJzaW9uIG9mIGRoaXNcbiAgICAgICAgICBpZiAoZGF0YUVsZW1lbnQuZGF0YVNldHMgJiYgZGF0YUVsZW1lbnQuZGF0YVNldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgICAnPGg1PicgKyBkYXRhRWxlbWVudC5uYW1lICsgJyBTb3VyY2VzPC9oNT4nO1xuXG4gICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICc8cD5Nb3JlIHRoYW4gPHN0cm9uZz4nICtcbiAgICAgICAgICAgICAgZGF0YUVsZW1lbnQuZGF0YVNldHMubGVuZ3RoICtcbiAgICAgICAgICAgICAgJzwvc3Ryb25nPiBkYXRhc2V0IGllICc7XG5cbiAgICAgICAgICAgIGRhdGFFbGVtZW50LmRhdGFTZXRzLmZvckVhY2goXG4gICAgICAgICAgICAgIChkYXRhU2V0OiBhbnksIGRhdGFTZXRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgZGF0YVNldEluZGV4ICE9PSAwICYmXG4gICAgICAgICAgICAgICAgICBkYXRhU2V0SW5kZXggIT09IGRhdGFFbGVtZW50LmRhdGFTZXRzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50RGVzY3JpcHRpb24gKz0gJywgJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBkYXRhU2V0SW5kZXggPT09IGRhdGFFbGVtZW50LmRhdGFTZXRzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50LmRhdGFTZXRzLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50RGVzY3JpcHRpb24gKz0gJyBhbmQgJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgICAgICAgJzxzdHJvbmc+JyArIGRhdGFTZXQubmFtZSArICc8L3N0cm9uZz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICcgdXNlIHRoaXMgJyArIGRhdGFFbGVtZW50Lm5hbWUgKyAnIGRhdGEgZWxlbWVudCc7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZGF0YUVsZW1lbnQuZGF0YUVsZW1lbnRHcm91cHMgJiZcbiAgICAgICAgICAgICAgZGF0YUVsZW1lbnQuZGF0YUVsZW1lbnRHcm91cHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGRhdGFFbGVtZW50RGVzY3JpcHRpb24gKz0gJyBhbmQgaXQgYmVsb25ncyB0byAnO1xuXG4gICAgICAgICAgICAgIGRhdGFFbGVtZW50LmRhdGFFbGVtZW50R3JvdXBzLmZvckVhY2goXG4gICAgICAgICAgICAgICAgKGRhdGFFbGVtZW50R3JvdXAsIGRhdGFFbGVtZW50R3JvdXBJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBkYXRhRWxlbWVudEdyb3VwSW5kZXggIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZGF0YUVsZW1lbnRHcm91cEluZGV4ICE9PVxuICAgICAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50LmRhdGFFbGVtZW50R3JvdXBzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhRWxlbWVudERlc2NyaXB0aW9uICs9ICcsICc7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgZGF0YUVsZW1lbnRHcm91cEluZGV4ID09PVxuICAgICAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50LmRhdGFFbGVtZW50R3JvdXBzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgZGF0YUVsZW1lbnQuZGF0YUVsZW1lbnRHcm91cHMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50RGVzY3JpcHRpb24gKz0gJyBhbmQgJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50RGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICAgICAgICAgJzxzdHJvbmc+JyArIGRhdGFFbGVtZW50R3JvdXAubmFtZSArICcgR3JvdXA8L3N0cm9uZz4nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YUVsZW1lbnREZXNjcmlwdGlvbiArPSAnPC9wPic7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgIG5ldyBVcGRhdGVEaWN0aW9uYXJ5TWV0YWRhdGFBY3Rpb24oZGF0YUVsZW1lbnRJZCwge1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YUVsZW1lbnREZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2FkaW5nU3VjY2VlZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmdGYWlsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBnZXRJbmRpY2F0b3JJbmZvKGluZGljYXRvclVybDogc3RyaW5nLCBpbmRpY2F0b3JJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5odHRwQ2xpZW50LmdldChgJHtpbmRpY2F0b3JVcmx9YCwgdHJ1ZSkuc3Vic2NyaWJlKChpbmRpY2F0b3I6IGFueSkgPT4ge1xuICAgICAgbGV0IGluZGljYXRvckRlc2NyaXB0aW9uID1cbiAgICAgICAgJzxwPjxzdHJvbmc+JyArXG4gICAgICAgIGluZGljYXRvci5uYW1lICtcbiAgICAgICAgJzwvc3Ryb25nPiBpcyBhIDxzdHJvbmc+JyArXG4gICAgICAgIGluZGljYXRvci5pbmRpY2F0b3JUeXBlLm5hbWUgK1xuICAgICAgICAnIDwvc3Ryb25nPiBpbmRpY2F0b3InO1xuXG4gICAgICBpZiAoaW5kaWNhdG9yLm51bWVyYXRvckRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgJzxzcGFuPiB3aXRoIHRoZSBudW1lcmF0b3IgZGVzY3JpYmVkIGFzIDxzdHJvbmc+JyArXG4gICAgICAgICAgaW5kaWNhdG9yLm51bWVyYXRvckRlc2NyaXB0aW9uICtcbiAgICAgICAgICAnPC9zdHJvbmc+PC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbmRpY2F0b3IuZGVub21pbmF0b3JEZXNjcmlwdGlvbikge1xuICAgICAgICBpbmRpY2F0b3JEZXNjcmlwdGlvbiArPVxuICAgICAgICAgICc8c3Bhbj4gYW5kIGRlbm9taW5hdG9yIGRlc2NyaWJlZCBhcyA8c3Ryb25nPicgK1xuICAgICAgICAgIGluZGljYXRvci5kZW5vbWluYXRvckRlc2NyaXB0aW9uICtcbiAgICAgICAgICAnPC9zdHJvbmc+PC9zcGFuPic7XG4gICAgICB9XG5cbiAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9ICc8L3A+JztcblxuICAgICAgaWYgKGluZGljYXRvci5hbm51YWxpemVkKSB7XG4gICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgJzxwPjxzcGFuPkl0w6LCgMKZcyBmaWd1cmUgaXMgYW5udWFsaXplZCB0byBzdXBwb3J0IGFuYWx5c2lzIGluIGxlc3MgdGhhbiB5ZWFyIHBlcmlvZCAnICtcbiAgICAgICAgICAnKG1vbnRobHkscXVhcnRlcmx5LHNlbWktYW5udWFsbHkpPC9zcGFuPjwvcD4nO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKFxuICAgICAgICBuZXcgVXBkYXRlRGljdGlvbmFyeU1ldGFkYXRhQWN0aW9uKGluZGljYXRvcklkLCB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IGluZGljYXRvckRlc2NyaXB0aW9uLFxuICAgICAgICAgIHByb2dyZXNzOiB7XG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgbG9hZGluZ1N1Y2NlZWRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGxvYWRpbmdGYWlsZWQ6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBHZXQgbnVtZXJhdG9yIGV4cHJlc3Npb25cbiAgICAgICAqL1xuICAgICAgZm9ya0pvaW4oXG4gICAgICAgIHRoaXMuaHR0cENsaWVudC5nZXQoXG4gICAgICAgICAgJ2V4cHJlc3Npb25zL2Rlc2NyaXB0aW9uP2V4cHJlc3Npb249JyArXG4gICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoaW5kaWNhdG9yLm51bWVyYXRvciksXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApLFxuICAgICAgICB0aGlzLmh0dHBDbGllbnQuZ2V0KFxuICAgICAgICAgICdkYXRhU2V0cy5qc29uP2ZpZWxkcz1wZXJpb2RUeXBlLGlkLG5hbWUsdGltZWx5RGF5cyxmb3JtVHlwZSxjcmVhdGVkLGV4cGlyeURheXMmJyArXG4gICAgICAgICAgICAnZmlsdGVyPWRhdGFTZXRFbGVtZW50cy5kYXRhRWxlbWVudC5pZDppbjpbJyArXG4gICAgICAgICAgICB0aGlzLmdldEF2YWlsYWJsZURhdGFFbGVtZW50cyhpbmRpY2F0b3IubnVtZXJhdG9yKSArXG4gICAgICAgICAgICAnXSZwYWdpbmc9ZmFsc2UnLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKS5zdWJzY3JpYmUoKG51bWVyYXRvclJlc3VsdHM6IGFueVtdKSA9PiB7XG4gICAgICAgIGlmIChudW1lcmF0b3JSZXN1bHRzWzBdKSB7XG4gICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICc8cD5OdW1lcmF0b3IgaXMgY2FsY3VsYXRlZCBmcm9tIDxzdHJvbmc+JyArXG4gICAgICAgICAgICBudW1lcmF0b3JSZXN1bHRzWzBdLmRlc2NyaXB0aW9uICtcbiAgICAgICAgICAgICc8L3N0cm9uZz4nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG51bWVyYXRvclJlc3VsdHNbMV0gJiYgbnVtZXJhdG9yUmVzdWx0c1sxXS5kYXRhU2V0cykge1xuICAgICAgICAgIGNvbnN0IGRhdGFTZXRzOiBhbnlbXSA9IG51bWVyYXRvclJlc3VsdHNbMV0uZGF0YVNldHM7XG5cbiAgICAgICAgICBpZiAoZGF0YVNldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz0gJyBvcmlnaW5hdGluZyBmcm9tICc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVNldHMuZm9yRWFjaCgoZGF0YXNldDogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IDAgJiYgaW5kZXggIT09IGRhdGFTZXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz0gJywgJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBkYXRhU2V0cy5sZW5ndGggLSAxICYmIGRhdGFTZXRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz0gJyBhbmQgJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICAgJzxzcGFuPjxzdHJvbmc+JyArXG4gICAgICAgICAgICAgIGRhdGFzZXQubmFtZSArXG4gICAgICAgICAgICAgICcsPC9zdHJvbmc+IHRoYXQgaXMgY29sbGVjdGVkIDxzdHJvbmc+JyArXG4gICAgICAgICAgICAgIGRhdGFzZXQucGVyaW9kVHlwZSArXG4gICAgICAgICAgICAgICc8L3N0cm9uZz4gd2l0aCBkZWFkbGluZSBmb3Igc3VibWlzc2lvbiBhZnRlciA8c3Ryb25nPicgK1xuICAgICAgICAgICAgICBkYXRhc2V0LnRpbWVseURheXMgK1xuICAgICAgICAgICAgICAnIGRheXMgPC9zdHJvbmc+PC9zcGFuPic7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRpY2F0b3JEZXNjcmlwdGlvbiArPSBgPC9wPmA7XG5cbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICBuZXcgVXBkYXRlRGljdGlvbmFyeU1ldGFkYXRhQWN0aW9uKGluZGljYXRvcklkLCB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogaW5kaWNhdG9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwcm9ncmVzczoge1xuICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgICBsb2FkaW5nU3VjY2VlZGVkOiB0cnVlLFxuICAgICAgICAgICAgICBsb2FkaW5nRmFpbGVkOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBkZW5vbWluYXRvciBleHByZXNzaW9uXG4gICAgICAgICAqL1xuICAgICAgICBmb3JrSm9pbihcbiAgICAgICAgICB0aGlzLmh0dHBDbGllbnQuZ2V0KFxuICAgICAgICAgICAgJ2V4cHJlc3Npb25zL2Rlc2NyaXB0aW9uP2V4cHJlc3Npb249JyArXG4gICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChpbmRpY2F0b3IuZGVub21pbmF0b3IpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgdGhpcy5odHRwQ2xpZW50LmdldChcbiAgICAgICAgICAgICdkYXRhU2V0cy5qc29uP2ZpZWxkcz1wZXJpb2RUeXBlLGlkLG5hbWUsdGltZWx5RGF5cyxmb3JtVHlwZSxjcmVhdGVkLGV4cGlyeURheXMmJyArXG4gICAgICAgICAgICAgICdmaWx0ZXI9ZGF0YVNldEVsZW1lbnRzLmRhdGFFbGVtZW50LmlkOmluOlsnICtcbiAgICAgICAgICAgICAgdGhpcy5nZXRBdmFpbGFibGVEYXRhRWxlbWVudHMoaW5kaWNhdG9yLmRlbm9taW5hdG9yKSArXG4gICAgICAgICAgICAgICddJnBhZ2luZz1mYWxzZScsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuICAgICAgICApLnN1YnNjcmliZSgoZGVub21pbmF0b3JSZXN1bHRzOiBhbnlbXSkgPT4ge1xuICAgICAgICAgIGlmIChkZW5vbWluYXRvclJlc3VsdHNbMF0pIHtcbiAgICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICc8cD5EZW5vbWluYXRvciBpcyBjYWxjdWxhdGVkIGZyb20gPHN0cm9uZz4nICtcbiAgICAgICAgICAgICAgZGVub21pbmF0b3JSZXN1bHRzWzBdLmRlc2NyaXB0aW9uICtcbiAgICAgICAgICAgICAgJzwvc3Ryb25nPic7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRlbm9taW5hdG9yUmVzdWx0c1sxXSAmJiBkZW5vbWluYXRvclJlc3VsdHNbMV0uZGF0YVNldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFTZXRzOiBhbnlbXSA9IGRlbm9taW5hdG9yUmVzdWx0c1sxXS5kYXRhU2V0cztcblxuICAgICAgICAgICAgaWYgKGRhdGFTZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz0gJyBvcmlnaW5hdGluZyBmcm9tICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGFTZXRzLmZvckVhY2goKGRhdGFzZXQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IDAgJiYgaW5kZXggIT09IGRhdGFTZXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JEZXNjcmlwdGlvbiArPSAnLCAnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBkYXRhU2V0cy5sZW5ndGggLSAxICYmIGRhdGFTZXRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JEZXNjcmlwdGlvbiArPSAnIGFuZCAnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICAgICAnPHNwYW4+PHN0cm9uZz4nICtcbiAgICAgICAgICAgICAgICBkYXRhc2V0Lm5hbWUgK1xuICAgICAgICAgICAgICAgICcsPC9zdHJvbmc+IHRoYXQgaXMgY29sbGVjdGVkIDxzdHJvbmc+JyArXG4gICAgICAgICAgICAgICAgZGF0YXNldC5wZXJpb2RUeXBlICtcbiAgICAgICAgICAgICAgICAnPC9zdHJvbmc+IHdpdGggZGVhZGxpbmUgZm9yIHN1Ym1pc3Npb24gYWZ0ZXIgPHN0cm9uZz4nICtcbiAgICAgICAgICAgICAgICBkYXRhc2V0LnRpbWVseURheXMgK1xuICAgICAgICAgICAgICAgICcgZGF5cyA8L3N0cm9uZz48L3NwYW4+JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9IGA8L3A+YDtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEluZGljYXRvciBncm91cFxuICAgICAgICAgICAqL1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaW5kaWNhdG9yLmluZGljYXRvckdyb3VwcyAmJlxuICAgICAgICAgICAgaW5kaWNhdG9yLmluZGljYXRvckdyb3Vwcy5sZW5ndGggPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbmRpY2F0b3JEZXNjcmlwdGlvbiArPSAnPGRpdj48cD5JdCBiZWxvbmdzIHRvICc7XG5cbiAgICAgICAgICAgIGluZGljYXRvci5pbmRpY2F0b3JHcm91cHMuZm9yRWFjaCgoaW5kaWNhdG9yR3JvdXAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpbmRleCAhPT0gMCAmJlxuICAgICAgICAgICAgICAgIGluZGV4ICE9PSBpbmRpY2F0b3IuaW5kaWNhdG9yR3JvdXBzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz0gJywgJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpbmRleCA9PT0gaW5kaWNhdG9yLmluZGljYXRvckdyb3Vwcy5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLmluZGljYXRvckdyb3Vwcy5sZW5ndGggPiAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9ICcgYW5kICc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpbmRpY2F0b3JEZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgICAgICc8c3Bhbj48c3Ryb25nPicgK1xuICAgICAgICAgICAgICAgIGluZGljYXRvckdyb3VwLm5hbWUgK1xuICAgICAgICAgICAgICAgICc8L3N0cm9uZz4gd2l0aCA8c3Ryb25nPicgK1xuICAgICAgICAgICAgICAgIGluZGljYXRvckdyb3VwLmluZGljYXRvcnMgK1xuICAgICAgICAgICAgICAgICc8L3N0cm9uZz4gb3RoZXIgcmVsYXRlZCBpbmRpY2F0b3JzPC9zcGFuPic7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz0gJzwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEF0dHJpYnV0ZSB2YWx1ZXNcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpbmRpY2F0b3IuYXR0cmlidXRlVmFsdWVzICYmXG4gICAgICAgICAgICBpbmRpY2F0b3IuYXR0cmlidXRlVmFsdWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICc8ZGl2PjxwPk90aGVyIHJlbGF0ZWQgZGV0YWlscyBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbmRpY2F0b3JzIGluY2x1ZGVzOiAnO1xuXG4gICAgICAgICAgICBpbmRpY2F0b3IuYXR0cmlidXRlVmFsdWVzLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICAgJzxzcGFuPjxzdHJvbmc+JyArXG4gICAgICAgICAgICAgICAgYXR0ci5hdHRyaWJ1dGUubmFtZSArXG4gICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgYXR0ci52YWx1ZSArXG4gICAgICAgICAgICAgICAgJzwvc3Ryb25nPjwvc3Bhbj4nO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9ICc8L3A+PC9kaXY+JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBMZWdlbmQgc2V0XG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKGluZGljYXRvci5sZWdlbmRTZXQpIHtcbiAgICAgICAgICAgIGluZGljYXRvckRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAgICc8ZGl2PjxwPiBJdCBtYWtlcyB1c2Ugb2Y6IDxzdHJvbmc+JyArXG4gICAgICAgICAgICAgIGluZGljYXRvci5sZWdlbmRTZXQubmFtZSArXG4gICAgICAgICAgICAgICc8L3N0cm9uZz4gbGVnZW5kJyArXG4gICAgICAgICAgICAgICcgc2V0IGZvciBhbmFseXNpcyB3aXRoIDxzdHJvbmc+JyArXG4gICAgICAgICAgICAgIGluZGljYXRvci5sZWdlbmRTZXQubGVnZW5kcyArXG4gICAgICAgICAgICAgICcgQ2xhc3NlcyA8L3N0cm9uZz51c2luZyA8c3Ryb25nPicgK1xuICAgICAgICAgICAgICBpbmRpY2F0b3IubGVnZW5kU2V0LnN5bWJvbGl6ZXIgK1xuICAgICAgICAgICAgICAnIGZvciBhbmFseXNpczwvc3Ryb25nPjwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFVzZXIgaW5mb1xuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmIChpbmRpY2F0b3IudXNlcikge1xuICAgICAgICAgICAgaW5kaWNhdG9yRGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICAgJzxkaXY+PHA+VGhpcyBpbmRpY2F0b3Igd2FzIDxzdHJvbmc+IGZpcnN0IGNyZWF0ZWQgPC9zdHJvbmc+IGluIHRoZSBzeXN0ZW0gb24gPHN0cm9uZz4nICtcbiAgICAgICAgICAgICAgdGhpcy5kYXRlUGlwZS50cmFuc2Zvcm0oaW5kaWNhdG9yLmNyZWF0ZWQpICtcbiAgICAgICAgICAgICAgJzwvc3Ryb25nPiBieSA8c3Ryb25nPicgK1xuICAgICAgICAgICAgICBpbmRpY2F0b3IudXNlci5uYW1lICtcbiAgICAgICAgICAgICAgJzwvc3Ryb25nPjwvcD48L2Rpdj4nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgICAgICBuZXcgVXBkYXRlRGljdGlvbmFyeU1ldGFkYXRhQWN0aW9uKGluZGljYXRvcklkLCB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpbmRpY2F0b3JEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2FkaW5nU3VjY2VlZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmdGYWlsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEF2YWlsYWJsZURhdGFFbGVtZW50cyhkYXRhKSB7XG4gICAgbGV0IGRhdGFFbGVtZW50VWlkcyA9IFtdO1xuICAgIGNvbnN0IHNlcGFyYXRvcnMgPSBbJyAnLCAnXFxcXCsnLCAnLScsICdcXFxcKCcsICdcXFxcKScsICdcXFxcKicsICcvJywgJzonLCAnXFxcXD8nXTtcbiAgICBjb25zdCBudW1lcmF0b3JEYXRhRWxlbWVudHMgPSBkYXRhLnNwbGl0KFxuICAgICAgbmV3IFJlZ0V4cChzZXBhcmF0b3JzLmpvaW4oJ3wnKSwgJ2cnKVxuICAgICk7XG4gICAgbnVtZXJhdG9yRGF0YUVsZW1lbnRzLmZvckVhY2goZGF0YUVsZW1lbnQgPT4ge1xuICAgICAgZGF0YUVsZW1lbnRVaWRzID0gdGhpcy5kYXRhRWxlbWVudFdpdGhDYXRlZ29yeU9wdGlvbkNoZWNrKGRhdGFFbGVtZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YUVsZW1lbnRVaWRzLmpvaW4oKTtcbiAgfVxuXG4gIGRhdGFFbGVtZW50V2l0aENhdGVnb3J5T3B0aW9uQ2hlY2soZGF0YUVsZW1lbnQ6IGFueSkge1xuICAgIGNvbnN0IHVpZCA9IFtdO1xuICAgIGlmIChkYXRhRWxlbWVudC5pbmRleE9mKCcuJykgPj0gMSkge1xuICAgICAgdWlkLnB1c2goXG4gICAgICAgIGRhdGFFbGVtZW50XG4gICAgICAgICAgLnJlcGxhY2UoLyMvZywgJycpXG4gICAgICAgICAgLnJlcGxhY2UoL3svZywgJycpXG4gICAgICAgICAgLnJlcGxhY2UoL30vZywgJycpXG4gICAgICAgICAgLnNwbGl0KCcuJylbMF1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVpZC5wdXNoKFxuICAgICAgICBkYXRhRWxlbWVudFxuICAgICAgICAgIC5yZXBsYWNlKC8jL2csICcnKVxuICAgICAgICAgIC5yZXBsYWNlKC97L2csICcnKVxuICAgICAgICAgIC5yZXBsYWNlKC99L2csICcnKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdWlkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlLCBEYXRlUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgU3RvcmVNb2R1bGUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBFZmZlY3RzTW9kdWxlIH0gZnJvbSAnQG5ncngvZWZmZWN0cyc7XG5cbmltcG9ydCB7IERpY3Rpb25hcnlMaXN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2RpY3Rpb25hcnktbGlzdC9kaWN0aW9uYXJ5LWxpc3QuY29tcG9uZW50JztcbmltcG9ydCB7IERpY3Rpb25hcnlQcm9ncmVzc0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9kaWN0aW9uYXJ5LXByb2dyZXNzL2RpY3Rpb25hcnktcHJvZ3Jlc3MuY29tcG9uZW50JztcbmltcG9ydCB7IGRpY3Rpb25hcnlSZWR1Y2VyIH0gZnJvbSAnLi9zdG9yZS9yZWR1Y2Vycy9kaWN0aW9uYXJ5LnJlZHVjZXInO1xuaW1wb3J0IHsgRGljdGlvbmFyeUVmZmVjdHMgfSBmcm9tICcuL3N0b3JlL2VmZmVjdHMvZGljdGlvbmFyeS5lZmZlY3RzJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgIFN0b3JlTW9kdWxlLmZvckZlYXR1cmUoJ2RpY3Rpb25hcnknLCBkaWN0aW9uYXJ5UmVkdWNlciksXG4gICAgRWZmZWN0c01vZHVsZS5mb3JGZWF0dXJlKFtEaWN0aW9uYXJ5RWZmZWN0c10pXG4gIF0sXG5cbiAgZGVjbGFyYXRpb25zOiBbRGljdGlvbmFyeUxpc3RDb21wb25lbnQsIERpY3Rpb25hcnlQcm9ncmVzc0NvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtEaWN0aW9uYXJ5TGlzdENvbXBvbmVudF0sXG4gIHByb3ZpZGVyczogW0RhdGVQaXBlXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hEaGlzMkRpY3Rpb25hcnlNb2R1bGUge31cbiJdLCJuYW1lcyI6WyJjcmVhdGVFbnRpdHlBZGFwdGVyIiwiY3JlYXRlRmVhdHVyZVNlbGVjdG9yIiwiY3JlYXRlU2VsZWN0b3IiLCJfLmZpbHRlciIsIl8ubWFwIiwic3RvcmUiLCJDb21wb25lbnQiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIlN0b3JlIiwiSW5wdXQiLCJvZlR5cGUiLCJtZXJnZU1hcCIsIm1hcCIsIl8uZmluZCIsInRhcCIsImZyb20iLCJmb3JrSm9pbiIsIkluamVjdGFibGUiLCJBY3Rpb25zIiwiTmd4RGhpczJIdHRwQ2xpZW50U2VydmljZSIsIkRhdGVQaXBlIiwiRWZmZWN0IiwiT2JzZXJ2YWJsZSIsIk5nTW9kdWxlIiwiQ29tbW9uTW9kdWxlIiwiSHR0cENsaWVudE1vZHVsZSIsIlN0b3JlTW9kdWxlIiwiRWZmZWN0c01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O3NDQUlpQywyQ0FBMkM7bUNBQzlDLDJDQUEyQztrQ0FDNUMsOENBQThDOztJQUczRSxJQUFBO1FBRUUsNENBQW1CLDZCQUE0QztZQUE1QyxrQ0FBNkIsR0FBN0IsNkJBQTZCLENBQWU7d0JBRC9DLHFCQUFxQixDQUFDLDRCQUE0QjtTQUNDO2lEQVhyRTtRQVlDLENBQUE7QUFIRCxJQUtBLElBQUE7UUFFRSx5Q0FBbUIsc0JBQTRDO1lBQTVDLDJCQUFzQixHQUF0QixzQkFBc0IsQ0FBc0I7d0JBRC9DLHFCQUFxQixDQUFDLHlCQUF5QjtTQUNJOzhDQWhCckU7UUFpQkMsQ0FBQTtBQUhELElBS0EsSUFBQTtRQUVFLHdDQUNTLHNCQUNBO1lBREEseUJBQW9CLEdBQXBCLG9CQUFvQjtZQUNwQixZQUFPLEdBQVAsT0FBTzt3QkFIQSxxQkFBcUIsQ0FBQyx3QkFBd0I7U0FJMUQ7NkNBeEJOO1FBeUJDLENBQUE7Ozs7OztBQ3pCRCxJQVlPLHFCQUFNLGlCQUFpQixHQUUxQkEsMEJBQW1CLEVBQXNCLENBQUM7SUFFOUMscUJBQU0sWUFBWSxHQUFvQixpQkFBaUIsQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7Ozs7OztBQUU1RSwrQkFDRSxLQUFxQyxFQUNyQyxNQUF5QjtRQUR6QixzQkFBQTtZQUFBLG9CQUFxQzs7UUFHckMsUUFBUSxNQUFNLENBQUMsSUFBSTtZQUNqQixLQUFLLHFCQUFxQixDQUFDLHlCQUF5QixFQUFFO2dCQUNwRCxPQUFPLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxNQUFN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