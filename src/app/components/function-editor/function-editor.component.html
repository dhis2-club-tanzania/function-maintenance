<div class="row">
  <div class="col-12">
    <div class="form-container" *ngIf="functionObject">
      <div class="form-group">
        <label for="">Name:</label>
        <input type="text" (ngModelChange)="onChange($event)" class="form-control" [(ngModel)]="functionObject.name">
      </div>

      <div class="form-group">
        <label for="">Description:</label>
        <textarea name="" class="form-control" id="" cols="30" rows="2" (ngModelChange)="onChange($event)" [(ngModel)]="functionObject.description"></textarea>
      </div>

      <div class="form-group">
        <label for="">Function Definition</label>
        <div class="alert alert-primary">
          <h6 class="alert-heading">Parameters</h6>
          <hr>
          <ngx-json-viewer [json]="parameters" [expanded]="false"></ngx-json-viewer>
        </div>

        <editor *ngIf="showEditor" [mode]="'javascript'" [code]="functionObject.function" [readonly]="operation == 'test'" [snippets]="snippets"
          (onCodeUpdate)="onFunctionEdited($event)"></editor>
      </div>
      <div class="form-group function-form-buttons">
        <button class="btn btn-primary" (click)="onSimulate($event)" [disabled]="functionObject.simulating"><i class="fa fa-eye"></i>
          {{functionObject.simulating ? 'Simulating...' : 'Simulate'}}</button>
        <button class="btn btn-success" (click)="onSave($event)" [disabled]="functionObject.saving">
          <i class="fa fa-save"></i> {{functionObject.saving ? 'Saving...' : 'Save'}}
        </button>
        <ng-container *ngIf="deleteFuntion">
          Are you sure you want to delete?
          <button class="btn btn-default" (click)="deleteFuntion=false">
            No
          </button>
          <button class="btn btn-danger" (click)="onDelete($event)">
            Yes
          </button>
        </ng-container>
        <button *ngIf="!deleteFuntion" class="btn btn-danger" (click)="deleteFuntion=true" [disabled]="functionObject.deleting">
          <i class="fa fa-trash"></i> {{functionObject.deleting ? 'Deleting...' : 'Delete'}}
        </button>
      </div>
    </div>
  </div>
</div>
